{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/home/home.vue?6b0e","webpack:///./src/components/messagelist.vue?1f6d","webpack:///./src/ApiClient/MessagesController.ts","webpack:///./src/sortedArraySync.ts","webpack:///./src/MessageNotificationManager.ts","webpack:///./src/components/confirmationdialog.vue?f098","webpack:///./src/components/confirmationdialog.vue","webpack:///./src/components/confirmationdialog.vue?fe65","webpack:///./src/components/confirmationdialog.vue?0ae1","webpack:///./src/ApiClient/ServerController.ts","webpack:///./src/components/utils/mapOrder.ts","webpack:///./src/components/messagelist.vue","webpack:///./src/components/messagelist.vue?2d18","webpack:///./src/components/messagelist.vue?a2d7","webpack:///./src/components/messageview.vue?a24b","webpack:///./src/components/headers.vue?41ea","webpack:///./src/components/headers.vue","webpack:///./src/components/headers.vue?6927","webpack:///./src/components/headers.vue?a1c2","webpack:///./src/components/messageviewhtml.vue?59d5","webpack:///./src/components/messageviewhtml.vue","webpack:///./src/components/messageviewhtml.vue?2770","webpack:///./src/components/messageviewhtml.vue?165f","webpack:///./src/components/messageviewattachments.vue?c2bf","webpack:///./src/components/messageviewattachments.vue","webpack:///./src/components/messageviewattachments.vue?5c0a","webpack:///./src/components/messageviewattachments.vue?91b8","webpack:///./src/components/messagepartsource.vue?1354","webpack:///./src/components/textview.vue?c826","webpack:///./src/components/textview.vue","webpack:///./src/components/textview.vue?1648","webpack:///./src/components/textview.vue?885a","webpack:///./src/components/messagepartsource.vue","webpack:///./src/components/messagepartsource.vue?89f9","webpack:///./src/components/messagepartsource.vue?a515","webpack:///./src/components/messagesource.vue?d666","webpack:///./src/components/messagesource.vue","webpack:///./src/components/messagesource.vue?c764","webpack:///./src/components/messagesource.vue?3ef2","webpack:///./src/components/messageview.vue","webpack:///./src/components/messageview.vue?5184","webpack:///./src/components/messageview.vue?9481","webpack:///./src/components/sessionlist.vue?388f","webpack:///./src/ApiClient/SessionsController.ts","webpack:///./src/components/sessionlist.vue","webpack:///./src/components/sessionlist.vue?cdb7","webpack:///./src/components/sessionlist.vue?fee9","webpack:///./src/components/sessionview.vue?026b","webpack:///./src/components/sessionview.vue","webpack:///./src/components/sessionview.vue?c03e","webpack:///./src/components/sessionview.vue?e9b7","webpack:///./src/HubConnectionManager.ts","webpack:///./src/components/serverstatus.vue?0e16","webpack:///./src/components/serverstatus.vue","webpack:///./src/components/serverstatus.vue?e5f6","webpack:///./src/components/serverstatus.vue?f6b7","webpack:///./src/components/settingsdialog.vue?291d","webpack:///./src/components/settingsdialog.vue","webpack:///./src/components/settingsdialog.vue?2ac6","webpack:///./src/components/settingsdialog.vue?7fc9","webpack:///./src/components/hubconnectionstatus.vue?cf3a","webpack:///./src/components/hubconnectionstatus.vue","webpack:///./src/components/hubconnectionstatus.vue?1e53","webpack:///./src/components/hubconnectionstatus.vue?5e16","webpack:///./src/components/home/home.vue","webpack:///./src/components/home/home.vue?5870","webpack:///./src/components/home/home.vue?beb5","webpack:///./src/components/app/app.vue?4edd","webpack:///./src/components/app/app.vue","webpack:///./src/components/app/app.vue?c08c","webpack:///./src/components/app/app.vue?c34c","webpack:///./src/main.ts","webpack:///./src/components/app/app.vue?99bb"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","on","$event","settingsVisible","_v","connection","directives","rawName","connected","expression","slot","messageListPaneSize","size","selectedMessageChanged","selectedMessage","sessionListPaneSize","selectedSessionChanged","selectedSession","staticRenderFns","clear","selectedmessage","deleteSelected","loading","refresh","isRelayAvailable","isRelayInProgress","relaySelected","model","callback","$$v","searchTerm","_s","error","message","_e","ref","filteredMessages","emptyText","prop","order","getRowClass","handleCurrentChange","sort","formatDate","scopedSlots","_u","fn","scope","row","subject","attachmentCount","sortColumn","sortIsDescending","encodeURIComponent","a","getSummaries_url","undefined","getMessage_url","post","markMessageRead_url","downloadMessage_url","options","relayMessage_url","partid","getPartContent_url","getPartSource_url","getPartSourceRaw_url","getMessageSourceRaw_url","getMessageSource_url","getMessageHtml_url","delete","delete_url","deleteAll_url","sortedArraySync","source","target","comparer","updater","sourceItem","targetItem","find","deleted","filter","findIndex","v","added","onClick","lastNotifiedMessage","visibleNotificationCloseTimeout","currentNotification","updateNotificationsDebounced","updateNotifications","Notification","permission","requestPermission","messages","messagesByDate","sortMessages","unnotifiedMessages","indexOfLastNotifiedMessage","indexOf","reverse","clearTimeout","notification","body","from","join","tag","renotify","silent","requireInteraction","onclick","onclose","setTimeout","close","m1","m2","receivedDate","visible","cancel","alwaysIsAvailable","confirm","_t","super","$slots","default","componentInstance","$on","getConfirmation","$el","parentElement","parent","insertBefore","removeChild","alwaysKey","localStorage","always","setItem","$emit","offsetParent","checkReferenceVisible","getItem","component","getServer_url","serverUpdate","updateServer_url","mapOrder","array","b","A","B","selectedSortDescending","selectedSortColumn","messageNotificationManager","selectMessage","debouncedUpdateFilteredMessages","updateFilteredMessages","lastSort","lastSortDescending","mutex","initialLoadDone","$refs","table","setCurrentRow","column","cellValue","moment","format","event","isUnread","emails","dialogResult","$prompt","confirmButtonText","inputValue","to","cancelButtonText","inputPattern","inputErrorMessage","split","trim","relayMessage","overrideRecipientAddresses","$notify","success","title","response","detail","sessage","messageToDelete","nextIndex","deleteAll","searchTermPredicate","sortedMessageIds","some","localeIndexOf","sensitivity","unlock","acquire","sortDescending","serverMessages","getSummaries","notifyMessages","setInitialMessages","getServer","relayOptions","smtpServer","sortOptions","descending","async","addOnConnectedCallback","components","confirmationdialog","modifiers","loadMessage","download","_l","warning","details","cc","bcc","secureConnection","relayError","mimeParseError","headers","parts","label","children","disabled","isLeaf","onPartSelection","node","class","childParts","isAttachment","selectedPartHeaders","selectedPart","messageSummary","html","onHtmlFrameLoaded","oldValue","htmlframe","doc","contentDocument","baseElement","querySelector","createElement","setAttribute","appendChild","getMessageHtml","attachment","openAttachment","fileName","attachments","setAttachments","getAttachments","part","open","url","editorInit","textToShow","text","brace","setReadOnly","aceeditor","messageEntitySummary","sourceurl","type","messageId","getPartSourceRaw","getPartSource","textview","getMessageSourceRaw","warnings","getMessage","partstree","setCurrentNode","getNode","setWarnings","currentMessageSummary","markMessageRead","console","getWarnings","messageviewattachments","messagepartsource","messagesource","selectedsession","sessions","numberOfMessages","getSession_url","getSessionLog_url","session","index","sessionToDelete","selectSession","newSessions","log","sessionSummary","loadSession","getSession","getSessionLog","connectedCallbacks","started","_connection","withUrl","configureLogging","Trace","build","onConnectionClosed","connectedCallback","start","stop","eventName","handler","server","isRunning","portNumber","exception","updateServer","handleClose","rules","saving","$set","isRelayEnabled","email","required","automaticEmails","save","isRelayEnabledValue","relayOptionsAutomaticEmails","hostName","numberOfMessagesToKeep","numberOfSessionsToKeep","smtpPort","valid","validate","buttonType","buttonIcon","buttonTitle","buttonClick","buttonText","errorText","storedValue","Number","toString","messagelist","messageview","sessionlist","sessionview","hubconnstatus","serverstatus","settingsdialog","splitpanes","pane","supportedBrowser","document","style","flex","use","routes","path","router","base","location","pathname","el","h","interceptors","fixDates","getElementById","display","dateRegex","Array","item","test","Date"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,GAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,8DCvJT,IAAIyC,EAAM,CACT,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,QAAS,OACT,WAAY,OACZ,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,gBAAiB,OACjB,aAAc,OACd,gBAAiB,OACjB,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,WAAY,OACZ,cAAe,OACf,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,YAAa,OACb,eAAgB,OAChB,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,QAAS,OACT,WAAY,OACZ,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,QAAS,OACT,WAAY,OACZ,OAAQ,OACR,UAAW,OACX,QAAS,OACT,WAAY,OACZ,QAAS,OACT,aAAc,OACd,gBAAiB,OACjB,WAAY,OACZ,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,YAAa,OACb,eAAgB,OAChB,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,gBAAiB,OACjB,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,QAIf,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOpC,EAAoBqC,GAE5B,SAASC,EAAsBF,GAC9B,IAAIpC,EAAoBW,EAAEuB,EAAKE,GAAM,CACpC,IAAIG,EAAI,IAAIC,MAAM,uBAAyBJ,EAAM,KAEjD,MADAG,EAAEE,KAAO,mBACHF,EAEP,OAAOL,EAAIE,GAEZD,EAAeO,KAAO,WACrB,OAAO5D,OAAO4D,KAAKR,IAEpBC,EAAeQ,QAAUL,EACzBlC,EAAOD,QAAUgC,EACjBA,EAAeE,GAAK,Q,8JCnShBO,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,eAAe,CAACE,YAAY,mBAAmB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,OAAS,OAAO,CAACH,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,sCAAsC,OAAS,WAAW,CAACH,EAAG,MAAM,CAACG,MAAM,CAAC,OAAS,KAAK,IAAM,WAAW,IAAM,kBAAkBH,EAAG,YAAY,CAACI,YAAY,CAAC,MAAQ,QAAQ,YAAY,QAAQ,QAAU,MAAM,OAAS,SAASD,MAAM,CAAC,OAAS,GAAG,KAAO,kBAAkB,MAAQ,YAAYE,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIW,iBAAkB,MAASX,EAAIY,GAAG,KAAKR,EAAG,gBAAgB,CAACI,YAAY,CAAC,MAAQ,SAASD,MAAM,CAAC,WAAaP,EAAIa,cAAcT,EAAG,eAAe,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAIa,YAAcb,EAAIa,WAAWG,UAAWC,WAAW,uCAAuCT,YAAY,CAAC,MAAQ,SAASD,MAAM,CAAC,WAAaP,EAAIa,eAAe,GAAGT,EAAG,iBAAiB,CAACG,MAAM,CAAC,QAAUP,EAAIW,gBAAgB,WAAaX,EAAIa,YAAYJ,GAAG,CAAC,OAAS,SAASC,GAAQV,EAAIW,iBAAkB,MAAUP,EAAG,UAAU,CAACE,YAAY,mBAAmB,CAACF,EAAG,UAAU,CAACE,YAAY,OAAOC,MAAM,CAAC,GAAK,WAAW,MAAQ,WAAW,KAAO,gBAAgB,CAACH,EAAG,cAAc,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,WAAW,KAAO,aAAa,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,SAASW,KAAK,SAAS,CAACd,EAAG,IAAI,CAACE,YAAY,oBAAoBN,EAAIY,GAAG,gBAAgBR,EAAG,aAAa,CAACE,YAAY,qBAAqBG,GAAG,CAAC,OAAS,SAASC,GAAQV,EAAImB,oBAAsBT,EAAO,GAAGU,QAAQ,CAAChB,EAAG,OAAO,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAOP,EAAImB,sBAAsB,CAACf,EAAG,cAAc,CAACE,YAAY,OAAOC,MAAM,CAAC,WAAaP,EAAIa,YAAYJ,GAAG,CAAC,2BAA2BT,EAAIqB,2BAA2B,GAAGjB,EAAG,OAAO,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,IAAIP,EAAImB,sBAAsB,CAACf,EAAG,cAAc,CAACE,YAAY,OAAOC,MAAM,CAAC,kBAAkBP,EAAIsB,oBAAoB,IAAI,IAAI,GAAGlB,EAAG,cAAc,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,WAAW,KAAO,aAAa,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,SAASW,KAAK,SAAS,CAACd,EAAG,IAAI,CAACE,YAAY,oBAAoBN,EAAIY,GAAG,gBAAgBR,EAAG,aAAa,CAACE,YAAY,qBAAqBG,GAAG,CAAC,OAAS,SAASC,GAAQV,EAAIuB,oBAAsBb,EAAO,GAAGU,QAAQ,CAAChB,EAAG,OAAO,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAOP,EAAIuB,sBAAsB,CAACnB,EAAG,cAAc,CAACE,YAAY,OAAOC,MAAM,CAAC,WAAaP,EAAIa,YAAYJ,GAAG,CAAC,2BAA2BT,EAAIwB,2BAA2B,GAAGpB,EAAG,OAAO,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,IAAIP,EAAIuB,sBAAsB,CAACnB,EAAG,cAAc,CAACE,YAAY,OAAOC,MAAM,CAAC,kBAAkBP,EAAIyB,oBAAoB,IAAI,IAAI,IAAI,IAAI,IAAI,IACrlFC,EAAkB,G,wBCDlB,EAAS,WAAa,IAAI1B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,qBAAqB,CAACG,MAAM,CAAC,aAAa,oBAAoB,QAAU,iDAAiDE,GAAG,CAAC,QAAUT,EAAI2B,QAAQ,CAACvB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,gBAAgB,MAAQ,YAAY,GAAGH,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,iBAAiB,UAAYP,EAAI4B,gBAAgB,MAAQ,UAAUnB,GAAG,CAAC,MAAQT,EAAI6B,kBAAkBzB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,kBAAkB,SAAWP,EAAI8B,QAAQ,MAAQ,WAAWrB,GAAG,CAAC,MAAQT,EAAI+B,WAAW3B,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,wBAAwB,UAAYP,EAAI4B,kBAAoB5B,EAAIgC,iBAAiB,QAAUhC,EAAIiC,kBAAkB,MAAQ,SAASxB,GAAG,CAAC,MAAQT,EAAIkC,iBAAiB9B,EAAG,WAAW,CAACI,YAAY,CAAC,MAAQ,QAAQ,MAAQ,MAAM,YAAY,SAASD,MAAM,CAAC,UAAY,GAAG,YAAc,SAAS,cAAc,kBAAkB4B,MAAM,CAAC9D,MAAO2B,EAAc,WAAEoC,SAAS,SAAUC,GAAMrC,EAAIsC,WAAWD,GAAKpB,WAAW,iBAAiB,GAAIjB,EAAS,MAAEI,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,QAAQ,MAAQ,QAAQ,YAAY,KAAK,CAACP,EAAIY,GAAG,IAAIZ,EAAIuC,GAAGvC,EAAIwC,MAAMC,SAAS,KAAKrC,EAAG,YAAY,CAACK,GAAG,CAAC,MAAQT,EAAI+B,UAAU,CAAC/B,EAAIY,GAAG,YAAY,GAAGZ,EAAI0C,KAAKtC,EAAG,WAAW,CAACU,WAAW,CAAC,CAAClD,KAAK,UAAUmD,QAAQ,YAAY1C,MAAO2B,EAAW,QAAEiB,WAAW,YAAY0B,IAAI,QAAQrC,YAAY,QAAQC,MAAM,CAAC,KAAOP,EAAI4C,iBAAiB,aAAa5C,EAAI6C,UAAU,wBAAwB,GAAG,eAAe,CAACC,KAAM,eAAgBC,MAAO,cAAc,KAAO,YAAY,oBAAoB,OAAO,UAAU,KAAK,iBAAiB/C,EAAIgD,YAAY,OAAS,IAAIvC,GAAG,CAAC,iBAAiBT,EAAIiD,oBAAoB,cAAcjD,EAAIkD,OAAO,CAAC9C,EAAG,kBAAkB,CAACG,MAAM,CAAC,SAAW,eAAe,MAAQ,WAAW,MAAQ,MAAM,SAAW,SAAS,UAAYP,EAAImD,cAAc/C,EAAG,kBAAkB,CAACG,MAAM,CAAC,SAAW,OAAO,MAAQ,OAAO,MAAQ,MAAM,SAAW,YAAYH,EAAG,kBAAkB,CAACG,MAAM,CAAC,SAAW,KAAK,MAAQ,KAAK,MAAQ,MAAM,SAAW,YAAYH,EAAG,kBAAkB,CAACG,MAAM,CAAC,SAAW,UAAU,MAAQ,UAAU,SAAW,UAAU6C,YAAYpD,EAAIqD,GAAG,CAAC,CAAC1E,IAAI,UAAU2E,GAAG,SAASC,GAAO,MAAO,CAACvD,EAAIY,GAAG,IAAIZ,EAAIuC,GAAGgB,EAAMC,IAAIC,SAAS,KAAMF,EAAMC,IAAmB,gBAAEpD,EAAG,IAAI,CAACE,YAAY,oBAAoBC,MAAM,CAAC,MAAQgD,EAAMC,IAAIE,gBAAkB,kBAAkB1D,EAAI0C,aAAa,IAAI,IACz3E,EAAkB,GCOR,MAAO,EAEjB,eAMO,iBAAiBiB,EAAoBC,GACxC,MAAO,2BAA2BC,mBAAmBF,uBAAgCC,IAGhE,mBAACD,EAAoBC,GAE1C,aAAc,EAAAE,EAAM7F,IAAIgC,KAAK8D,iBAAiBJ,EAAYC,QAA2BI,IAAYxI,KAI9F,eAAegE,GAClB,MAAO,gBAAgBqE,mBAAmBrE,GAGvB,iBAACA,GAEpB,aAAc,EAAAsE,EAAM7F,IAAIgC,KAAKgE,eAAezE,QAAawE,IAAYxI,KAIlE,oBAAoBgE,GACvB,MAAO,gBAAgBqE,mBAAmBrE,GAGlB,sBAACA,GAEzB,aAAc,EAAAsE,EAAMI,KAAKjE,KAAKkE,oBAAoB3E,QAAawE,IAAYxI,KAIxE,oBAAoBgE,GACvB,MAAO,gBAAgBqE,mBAAmBrE,cAGlB,sBAACA,GAEzB,aAAc,EAAAsE,EAAM7F,IAAIgC,KAAKmE,oBAAoB5E,QAAawE,IAAYxI,KAIvE,iBAAiBgE,GACpB,MAAO,gBAAgBqE,mBAAmBrE,WAGrB,mBAACA,EAAY6E,GAElC,aAAc,EAAAP,EAAMI,KAAKjE,KAAKqE,iBAAiB9E,GAAK6E,QAAWL,IAAYxI,KAIxE,mBAAmBgE,EAAY+E,GAClC,MAAO,gBAAgBV,mBAAmBrE,WAAYqE,mBAAmBU,aAGlD,qBAAC/E,EAAY+E,GAEpC,aAAc,EAAAT,EAAM7F,IAAIgC,KAAKuE,mBAAmBhF,EAAI+E,QAAiBP,IAAYxI,KAI9E,kBAAkBgE,EAAY+E,GACjC,MAAO,gBAAgBV,mBAAmBrE,WAAYqE,mBAAmBU,YAGnD,oBAAC/E,EAAY+E,GAEnC,aAAc,EAAAT,EAAM7F,IAAIgC,KAAKwE,kBAAkBjF,EAAI+E,QAAiBP,IAAYxI,KAI7E,qBAAqBgE,EAAY+E,GACpC,MAAO,gBAAgBV,mBAAmBrE,WAAYqE,mBAAmBU,SAGhD,uBAAC/E,EAAY+E,GAEtC,aAAc,EAAAT,EAAM7F,IAAIgC,KAAKyE,qBAAqBlF,EAAI+E,QAAiBP,IAAYxI,KAIhF,wBAAwBgE,GAC3B,MAAO,gBAAgBqE,mBAAmBrE,SAGd,0BAACA,GAE7B,aAAc,EAAAsE,EAAM7F,IAAIgC,KAAK0E,wBAAwBnF,QAAawE,IAAYxI,KAI3E,qBAAqBgE,GACxB,MAAO,gBAAgBqE,mBAAmBrE,YAGjB,uBAACA,GAE1B,aAAc,EAAAsE,EAAM7F,IAAIgC,KAAK2E,qBAAqBpF,QAAawE,IAAYxI,KAIxE,mBAAmBgE,GACtB,MAAO,gBAAgBqE,mBAAmBrE,UAGnB,qBAACA,GAExB,aAAc,EAAAsE,EAAM7F,IAAIgC,KAAK4E,mBAAmBrF,QAAawE,IAAYxI,KAItE,WAAWgE,GACd,MAAO,gBAAgBqE,mBAAmBrE,GAG3B,aAACA,GAEhB,aAAc,EAAAsE,EAAMgB,OAAO7E,KAAK8E,WAAWvF,QAAawE,IAAYxI,KAIjE,gBACH,MAAO,iBAGW,kBAElB,aAAc,EAAAsI,EAAMgB,OAAO7E,KAAK+E,qBAAyBhB,IAAYxI,M,gBC9I/D,SAAUyJ,EAAgBC,EAAeC,EAAeC,EAAqCC,EAAyC,MAEhJ,GAAIA,EACA,IAAK,MAAMC,KAAcJ,EAAQ,CAC7B,MAAMK,EAAaJ,EAAOK,KAAK1J,GAAKsJ,EAAStJ,EAAGwJ,IAC5CC,GACAF,EAAQC,EAAYC,GAKhC,IAAK,MAAME,KAAWN,EAAOO,OAAOjI,IAAgD,IAA3CyH,EAAOS,UAAUC,GAAKR,EAAS3H,EAAGmI,KACvET,EAAOjI,OAAOiI,EAAOQ,UAAUlI,GAAK2H,EAAS3H,EAAGgI,IAAW,GAG/D,IAAK,MAAMI,KAASX,EAAOQ,OAAOjI,IAAgD,IAA3C0H,EAAOQ,UAAUC,GAAKR,EAAS3H,EAAGmI,KACrET,EAAOjI,OAAOgI,EAAOS,UAAUlI,GAAK2H,EAAS3H,EAAGoI,IAAS,EAAGA,G,4BCbtD,MAAO,EACjB,YAAYC,GAOJ,KAAAC,oBAA6C,KAE7C,KAAAC,gCAA8C,KAC9C,KAAAC,oBAA2C,KAY3C,KAAAC,6BAA+B,eAASjG,KAAKkG,oBAAqB,KArBvC,WAA3BC,aAAaC,YACbD,aAAaE,oBAEjBrG,KAAK6F,QAAUA,EAQnB,mBAAmBS,GACf,MAAMC,EAAiBvG,KAAKwG,aAAaF,GACzCtG,KAAK8F,oBAAsBS,EAAeA,EAAexK,OAAS,GAGtE,eAAeuK,GAEXtG,KAAKiG,6BAA6BK,GAK9B,oBAAoBA,GAExB,MAAMC,EAAiBvG,KAAKwG,aAAaF,GACzC,IAAIG,EACJ,GAAKzG,KAAK8F,oBAGL,CACD,MAAMY,EAA6BH,EAAeI,QAAQ3G,KAAK8F,qBAE3DW,GAD+B,GAA/BC,EACqBH,EAAepH,MAAMuH,EAA6B,GAGlDH,OARzBE,EAAqBF,EAWzB,GAAIE,EAAmB1K,OAInB,GAFA0K,EAAmBG,UAEY,WAA3BT,aAAaC,WAEbpG,KAAK8F,oBAAsBW,EAAmB,OAE7C,CACGzG,KAAK+F,iCACLc,aAAa7G,KAAK+F,iCAGtB,MAAMe,EAAe9G,KAAKgG,oBAAsB,IAAIG,aAAa,aAAeM,EAAmB1K,OAAS,4BAA6B,CACrIgL,KAAMN,EAAmBtH,MAAM,EAAG,GAAGC,IAAI5B,GAAK,SAAWA,EAAEwJ,KAAO,MAAQxJ,EAAEgG,SAASyD,KAAK,OAASR,EAAmB1K,OAAS,EAAI,MAAQ,IAC3ImL,IAAK,cACLC,UAAU,EACVC,SAAWpH,KAAKgG,oBAChBqB,oBAAoB,IAExBP,EAAaQ,QAAU,KACnBtH,KAAK6F,QAAQY,EAAmB,KAEpCK,EAAaS,QAAU,KACfT,IAAiB9G,KAAKgG,sBACtBhG,KAAKgG,oBAAsB,KAC3BhG,KAAK8F,oBAAsBW,EAAmB,KAGtDzG,KAAK+F,gCAAkCyB,WAAW,KAC1CV,IAAiB9G,KAAKgG,qBACtBhG,KAAKgG,oBAAoByB,SAE9B,MAKP,aAAanB,GACjB,MAAMC,EAAiBD,EAASnH,MAAM,EAAGmH,EAASvK,QAiBlD,OAhBAwK,EAAetD,KAAK,CAACyE,EAAIC,IACjBD,EAAGE,cAAgBD,EAAGC,aAClBF,EAAGnI,GAAKoI,EAAGpI,GACJ,GAGC,EAGPmI,EAAGE,aAAeD,EAAGC,aACnB,GAGC,GAGTrB,GCpGf,IAAI,EAAS,WAAa,IAAIxG,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,aAAa,CAACG,MAAM,CAAC,UAAY,SAAS,MAAQ,MAAM,QAAU,UAAU4B,MAAM,CAAC9D,MAAO2B,EAAW,QAAEoC,SAAS,SAAUC,GAAMrC,EAAI8H,QAAQzF,GAAKpB,WAAW,YAAY,CAACb,EAAG,IAAI,CAACJ,EAAIY,GAAGZ,EAAIuC,GAAGvC,EAAIyC,YAAYrC,EAAG,MAAM,CAACI,YAAY,CAAC,aAAa,QAAQ,OAAS,MAAM,CAACJ,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAI+H,YAAY,CAAC/H,EAAIY,GAAG,YAAaZ,EAAIgI,oBAAqB5H,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIiI,SAAQ,MAAS,CAACjI,EAAIY,GAAG,YAAYZ,EAAI0C,KAAKtC,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIiI,SAAQ,MAAU,CAACjI,EAAIY,GAAG,cAAc,GAAGZ,EAAIkI,GAAG,UAAU,KAAK,CAAC,KAAO,eAAe,IAAI,IAC/0B,EAAkB,GCwBtB,IAAqB,EAArB,cAAgD,aAC5C,cACIC,QAsBJ,KAAAL,SAAmB,EAnBnB,UACI,GAAI7H,KAAKmI,OAAOC,SAAWpI,KAAKmI,OAAOC,QAAQrM,OAAS,GAAKiE,KAAKmI,OAAOC,QAAQ,GAAGC,oBAChFrI,KAAKmI,OAAOC,QAAQ,GAAGC,kBAAkBC,IAAI,QAAStI,KAAKuI,iBAGvDvI,KAAKwI,IAAIC,eAAe,CACxB,IAAIC,EAAS1I,KAAKwI,IAAIC,cACtBC,EAAOC,aAAa3I,KAAKmI,OAAOC,QAAQ,GAAGC,kBAAkBG,IAAKxI,KAAKwI,KACvEE,EAAOE,YAAY5I,KAAKwI,MAcpC,oBACI,OAAOxI,KAAK6I,WAAa5J,OAAO6J,aAGpC,SACI9I,KAAK6H,SAAU,EAGnB,QAAQkB,GAEAA,GACA9J,OAAO6J,aAAaE,QAAQ,UAAYhJ,KAAK6I,UAAW,QAG5D7I,KAAK6H,SAAU,EACf7H,KAAKiJ,MAAM,WAGP,wBACAjJ,KAAK6H,UAED7H,KAAKmI,OAAOC,SAAWpI,KAAKmI,OAAOC,QAAQrM,OAAS,GAAKiE,KAAKmI,OAAOC,QAAQ,GAAGC,qBACrErI,KAAKmI,OAAOC,QAAQ,GAAGC,kBAAkBG,KAAKU,eACrDlJ,KAAK6H,SAAU,GAIvBL,WAAWxH,KAAKmJ,sBAAuB,MAIvC,kBAGAnJ,KAAK+H,qBAAmF,SAA5D9I,OAAO6J,aAAaM,QAAQ,UAAYpJ,KAAK6I,WACzE7I,KAAKgI,SAAQ,IAEbhI,KAAK6H,SAAU,EACfL,WAAWxH,KAAKmJ,sBAAuB,QA9C/C,gBADC,eAAK,CAAEf,QAAS,M,8BAIjB,gBADC,eAAK,CAAEA,aAASrE,K,gCArBA,EAAkB,gBADtC,QACoB,WCzBwX,I,YCOzYsF,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCbD,MAAO,EAEjB,eAMO,gBACH,MAAO,aAGW,kBAElB,aAAc,EAAAxF,EAAM7F,IAAIgC,KAAKsJ,qBAAyBvF,IAAYxI,KAI/D,mBACH,MAAO,aAGc,mBAACgO,GAEtB,aAAc,EAAA1F,EAAMI,KAAKjE,KAAKwJ,mBAAoBD,QAAgBxF,IAAYxI,MC1BhF,SAAUkO,EAAYC,EAAY5G,EAAkBpE,GAYxD,OAXAgL,EAAMzG,MAAK,SAASY,EAAG8F,GACrB,MAAMC,EAAI/F,EAAEnF,GACVmL,EAAIF,EAAEjL,GAER,OAAIoE,EAAM6D,QAAQiD,GAAK9G,EAAM6D,QAAQkD,GAC5B,GAEC,KAILH,ECuET,IAAqB,EAArB,cAAyC,aACrC,cACIxB,QAGI,KAAA4B,wBAAkC,EAClC,KAAAC,mBAA6B,eAIrC,KAAAnJ,WAA0C,KAE1C,KAAA0F,SAA6B,GAC7B,KAAA3D,iBAAqC,GAErC,KAAAX,mBAA6B,EAC7B,KAAAD,kBAA4B,EAE5B,KAAAa,UAAoB,cACpB,KAAAL,MAAsB,KACtB,KAAAZ,gBAAyC,KACzC,KAAAU,WAAqB,GACb,KAAAR,SAAmB,EACnB,KAAAmI,2BAA6B,IAAI,EACrCxH,IACIxC,KAAKiK,cAAczH,GACnBxC,KAAKgD,oBAAoBR,KAyGjC,KAAA0H,gCAAkC,eAASlK,KAAKmK,uBAAwB,KA8ClE,KAAAC,SAA0B,KACxB,KAAAC,oBAA8B,EAC9B,KAAAC,MAAQ,IAAI,OAEpB,KAAAC,iBAAkB,EAvJlB,cAAc/H,GACAxC,KAAKwK,MAAMC,MAAOC,cAAclI,GAC1CxC,KAAKgD,oBAAoBR,GAG7B,oBAAoBA,GAChBxC,KAAK2B,gBAAkBa,EACvBxC,KAAKiJ,MAAM,2BAA4BzG,GAG3C,WACIe,EACAoH,EACAC,GAEA,OAAaC,EAAQD,GAAWE,OAAO,uBAG3C,YAAYC,GACR,OAAOA,EAAMxH,IAAIyH,SAAW,SAAW,OAGxB,sB,UACf,GAA4B,MAAxBhL,KAAK2B,gBACL,OAIJ,IAAIsJ,EAEJ,IAEI,IAAIC,QAA0ClL,KAAKmL,QAAQ,2DAA4D,gBAAiB,CACpIC,kBAAmB,KACnBC,WAAYrL,KAAK2B,gBAAgB2J,GACjCC,iBAAkB,SAClBC,aAAc,qBACdC,kBAAmB,4BAGvBR,EAAkBC,EAAa9M,MAAOsN,MAAM,KAAKtM,IAAIK,GAAKA,EAAEkM,QAC9D,SACE,OAGJ,IACI3L,KAAKgC,mBAAoB,QACnB,IAAI,GAAqB4J,aAAa5L,KAAK2B,gBAAgBpC,GAAI,CAAEsM,2BAA4BZ,IAEnGjL,KAAK8L,QAAQC,QAAQ,CAAEC,MAAO,wBAAyBxJ,QAAS,iBAClE,MAAO/C,GACL,IAAI+C,EAAkC,QAAxB,EAAgB,QAAhB,EAAU,QAAV,EAAA/C,EAAEwM,gBAAQ,eAAE1Q,YAAI,eAAE2Q,cAAM,QAAIzM,EAAE0M,QAE5CnM,KAAK8L,QAAQvJ,MAAM,CAAEyJ,MAAO,uBAAwBxJ,QAASA,IARjE,QAUIxC,KAAKgC,mBAAoB,GAIb,uBAChB,GAA4B,MAAxBhC,KAAK2B,gBACL,OAGJ3B,KAAK6B,SAAU,EAEf,IAAIuK,EAAkBpM,KAAK2B,gBAEvB0K,EAAYrM,KAAK2C,iBAAiBgE,QAAQyF,GAAmB,EAC7DC,EAAYrM,KAAK2C,iBAAiB5G,QAClCiE,KAAKiK,cAAcjK,KAAK2C,iBAAiB0J,IAG7C,UACU,IAAI,GAAqBxH,OAAOuH,EAAgB7M,UAChDS,KAAK8B,UACb,MAAOrC,GACLO,KAAK8L,QAAQvJ,MAAM,CAAEyJ,MAAO,wBAAyBxJ,QAAS/C,EAAE+C,UAJpE,QAMIxC,KAAK6B,SAAU,GAIZ,cACP,IACI7B,KAAK6B,SAAU,QACT,IAAI,GAAqByK,kBACzBtM,KAAK8B,UACb,MAAOrC,GACLO,KAAK8L,QAAQvJ,MAAM,CAAEyJ,MAAO,wBAAyBxJ,QAAS/C,EAAE+C,UALpE,QAOIxC,KAAK6B,SAAU,GAKvB,WACI7B,KAAK6B,SAAU,EACf7B,KAAKkK,kCAKT,yBAEI,IACIlK,KAAK6B,SAAU,EACX7B,KAAKqC,WACLrC,KAAK4C,UAAY,yBAA2B5C,KAAKqC,WAAa,IAE9DrC,KAAK4C,UAAY,cAGrBoC,EACIhF,KAAKsG,SAASb,OAAOjI,GAAKwC,KAAKuM,oBAAoB/O,IAEnDwC,KAAK2C,iBACL,CAACkB,EAAmB8F,IAAsB9F,EAAEtE,IAAMoK,EAAEpK,GACpD,CAAC8F,EAA4BC,KACzBA,EAAW0F,SAAW3F,EAAW2F,WAIzC,MAAMwB,EAAmBxM,KAAKsG,SAASlH,IAAI5B,GAAGA,EAAE+B,IAChDS,KAAK2C,iBAAmB8G,EAASzJ,KAAK2C,iBAAkB6J,EAAkB,MAErExM,KAAK2C,iBAAiB8J,KAAKjP,GAA6B,MAAxBwC,KAAK2B,iBAA2BnE,EAAE+B,IAAMS,KAAK2B,gBAAgBpC,KAC9FS,KAAKgD,oBAAoB,MAtBjC,QAyBIhD,KAAK6B,SAAU,GAIjB,oBAAoBrE,GAC1B,OAAQwC,KAAKqC,aAGF,GAFP7E,EAAEgG,QAAQkJ,cAAc1M,KAAKqC,gBAAY0B,EAAW,CAClD4I,YAAa,WAIR,GAFPnP,EAAE8N,GAAGoB,cAAc1M,KAAKqC,gBAAY0B,EAAW,CAC7C4I,YAAa,WAIR,GAFPnP,EAAEwJ,KAAK0F,cAAc1M,KAAKqC,gBAAY0B,EAAW,CAC/C4I,YAAa,SAUN,cAACvF,GAAkB,GAC5B,IAAIwF,QAAe5M,KAAKsK,MAAMuC,UAE9B,IACI7M,KAAKuC,MAAQ,KACbvC,KAAK6B,SAAWuF,EAIhB,IAAI1D,EAAa1D,KAAK+J,mBAClB+C,EAAiB9M,KAAK8J,uBAEtBiD,QAAuB,IAAI,GAAqBC,aAChDtJ,EACAoJ,GAIC9M,KAAKoK,UACNpK,KAAKoK,UAAY1G,GACjB1D,KAAKqK,oBAAsByC,GACF,GAAzBC,EAAehR,OAIfiJ,EACI+H,EACA/M,KAAKsG,SACL,CAACzC,EAAmB8F,IAAsB9F,EAAEtE,IAAMoK,EAAEpK,GACpD,CAAC8F,EAA4BC,KACzBA,EAAW0F,SAAW3F,EAAW2F,WAPzChL,KAAKsG,SAASrJ,OAAO,EAAG+C,KAAKsG,SAASvK,UAAWgR,GAYjD/M,KAAKuK,gBACLvK,KAAKgK,2BAA2BiD,eAAejN,KAAKsG,UAEpDtG,KAAKgK,2BAA2BkD,mBAAmBlN,KAAKsG,UAG5DtG,KAAKmK,yBAELnK,KAAKuK,iBAAkB,EACvBvK,KAAKoK,SAAW1G,EAChB1D,KAAKqK,mBAAqBrK,KAAK8J,uBAE/B9J,KAAK+B,+BAAkC,IAAI,GAAmBoL,aAAaC,aAAaC,WAC1F,MAAO5N,GACLO,KAAKuC,MAAQ9C,EA9CjB,QAgDIO,KAAK6B,SAAU,EACf+K,KAIE,WAACU,GACP,IAAIC,GAAsB,EACA,cAAtBD,EAAYxK,QACZyK,GAAa,GAIbvN,KAAK+J,oBAAsBuD,EAAYzK,MACvC7C,KAAK8J,wBAA0ByD,IAE/BvN,KAAK+J,mBAAqBuD,EAAYzK,MAAQ,eAC9C7C,KAAK8J,uBAAyByD,QAExBvN,KAAK8B,WAKN,sBACH9B,KAAK8B,SAAQ,GAIE,4BAEjB9B,KAAKY,aACLZ,KAAKY,WAAWJ,GAAG,kBAAmBgN,gBAC5BxN,KAAK8B,SAAQ,KAEvB9B,KAAKY,WAAWJ,GAAG,gBAAiBgN,gBAC1BxN,KAAK8B,SAAQ,KAEvB9B,KAAKY,WAAW6M,uBAAuB,KACnCzN,KAAK8B,SAAQ,QAtQzB,gBADC,eAAK,CAAEsG,QAAS,Q,iCAqHjB,gBADC,eAAM,e,uBAIN,MAqID,gBADC,eAAM,e,kCAcN,MAnRgB,EAAW,gBAL/B,eAAU,CACPsF,WAAY,CACRC,mBAAoB,MAGP,WCtFiX,ICOlY,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAI5N,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,UAAUmD,QAAQ,iBAAiB1C,MAAO2B,EAAW,QAAEiB,WAAW,UAAU4M,UAAU,CAAC,MAAO,KAAQvN,YAAY,+BAA+B,CAAEN,EAAS,MAAEI,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,UAAU,CAACP,EAAIY,GAAG,IAAIZ,EAAIuC,GAAGvC,EAAIwC,MAAMC,SAAS,KAAKrC,EAAG,YAAY,CAACK,GAAG,CAAC,MAAQT,EAAI8N,cAAc,CAAC9N,EAAIY,GAAG,YAAY,GAAGZ,EAAI0C,KAAM1C,EAAkB,eAAEI,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,oBAAoBE,GAAG,CAAC,MAAQT,EAAI+N,WAAW,CAAC/N,EAAIY,GAAG,eAAe,GAAGR,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIgO,GAAIhO,EAAY,UAAE,SAASiO,GAAS,OAAO7N,EAAG,WAAW,CAACzB,IAAIsP,EAAQC,QAAQ3N,MAAM,CAAC,MAAQ,YAAc0N,EAAQC,QAAQ,KAAO,UAAU,YAAY,SAAQ9N,EAAG,QAAQ,CAACE,YAAY,qBAAqB,CAACF,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIY,GAAG,WAAWR,EAAG,KAAK,CAAEJ,EAAW,QAAEI,EAAG,OAAO,CAACJ,EAAIY,GAAGZ,EAAIuC,GAAGvC,EAAIyC,QAAQwE,SAASjH,EAAI0C,SAAStC,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIY,GAAG,SAASR,EAAG,KAAK,CAAEJ,EAAW,QAAEI,EAAG,OAAO,CAACJ,EAAIY,GAAGZ,EAAIuC,GAAGvC,EAAIyC,QAAQ8I,OAAOvL,EAAI0C,SAAU1C,EAAIyC,SAAWzC,EAAIyC,QAAQ0L,GAAI/N,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIY,GAAG,SAASR,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAIuC,GAAGvC,EAAIyC,QAAQ0L,SAASnO,EAAI0C,KAAM1C,EAAIyC,SAAWzC,EAAIyC,QAAQ2L,IAAKhO,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIY,GAAG,UAAUR,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAIuC,GAAGvC,EAAIyC,QAAQ2L,UAAUpO,EAAI0C,KAAKtC,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIY,GAAG,cAAcR,EAAG,KAAK,CAAEJ,EAAW,QAAEI,EAAG,OAAO,CAACJ,EAAIY,GAAGZ,EAAIuC,GAAGvC,EAAIyC,QAAQgB,YAAYzD,EAAI0C,SAAStC,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIY,GAAG,aAAaR,EAAG,KAAK,CAAEJ,EAAW,QAAEI,EAAG,OAAO,CAACJ,EAAIY,GAAGZ,EAAIuC,GAAGvC,EAAIyC,QAAQ4L,qBAAqBrO,EAAI0C,WAAY1C,EAAIyC,SAAWzC,EAAIyC,QAAQ6L,WAAYlO,EAAG,MAAM,CAACA,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,UAAU,CAACP,EAAIY,GAAG,wBAAwBZ,EAAIuC,GAAGvC,EAAIyC,QAAQ6L,gBAAgB,GAAGtO,EAAI0C,KAAM1C,EAAIyC,SAAWzC,EAAIyC,QAAQ8L,eAAgB,CAACnO,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,UAAU,CAACP,EAAIY,GAAG,wBAAwBZ,EAAIuC,GAAGvC,EAAIyC,QAAQ8L,oBAAoBvO,EAAI0C,MAAM,GAAGtC,EAAG,UAAU,CAACE,YAAY,OAAOE,YAAY,CAAC,OAAS,OAAO,MAAQ,QAAQD,MAAM,CAAC,MAAQ,OAAO,KAAO,gBAAgB,CAACH,EAAG,cAAc,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,SAAS,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,SAASW,KAAK,SAAS,CAACd,EAAG,IAAI,CAACE,YAAY,iBAAiBN,EAAIY,GAAG,YAAYR,EAAG,yBAAyB,CAACG,MAAM,CAAC,QAAUP,EAAIyC,WAAWrC,EAAG,mBAAmB,CAACE,YAAY,OAAOC,MAAM,CAAC,QAAUP,EAAIyC,YAAY,GAAGrC,EAAG,cAAc,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,YAAY,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,SAASW,KAAK,SAAS,CAACd,EAAG,IAAI,CAACE,YAAY,uBAAuBN,EAAIY,GAAG,eAAeR,EAAG,UAAU,CAACE,YAAY,OAAOC,MAAM,CAAC,QAAUP,EAAIwO,YAAY,GAAGpO,EAAG,cAAc,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,UAAU,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,SAASW,KAAK,SAAS,CAACd,EAAG,IAAI,CAACE,YAAY,0BAA0BN,EAAIY,GAAG,aAAcZ,EAAW,QAAEI,EAAG,UAAU,CAACuC,IAAI,YAAYpC,MAAM,CAAC,KAAOP,EAAIyC,QAAQgM,MAAM,MAAQ,CAACC,MAAO,OAAQC,SAAU,aAAcC,UAAU,EAAOC,OAAQ7O,EAAI6O,QAAQ,oBAAoB,GAAG,gBAAgB,WAAW,UAAY,GAAG,WAAW,KAAK,wBAAwB,CAAC,MAAMpO,GAAG,CAAC,aAAaT,EAAI8O,iBAAiB1L,YAAYpD,EAAIqD,GAAG,CAAC,CAAC1E,IAAI,UAAU2E,GAAG,SAASX,GAC1mG,IAAIoM,EAAOpM,EAAIoM,KACXvT,EAAOmH,EAAInH,KACf,OAAO4E,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACF,EAAG,IAAI,CAAC4O,MAAM,CAAC,wBAAyBxT,EAAKyT,WAAWjT,OAAQ,mBAA8C,GAA1BR,EAAKyT,WAAWjT,SAAgBR,EAAK0T,aAAc,oBAA+C,GAA1B1T,EAAKyT,WAAWjT,QAAeR,EAAK0T,gBAAgBlP,EAAIY,GAAG,IAAIZ,EAAIuC,GAAGwM,EAAKL,OAAO,UAAU,MAAK,EAAM,cAAc1O,EAAI0C,KAAKtC,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAgB,aAAEiB,WAAW,iBAAiBX,YAAY,mBAAmB,CAACF,EAAG,UAAU,CAACE,YAAY,kBAAkBC,MAAM,CAAC,MAAQ,UAAU,KAAO,gBAAgB,CAACH,EAAG,cAAc,CAACE,YAAY,kBAAkBC,MAAM,CAAC,MAAQ,UAAU,KAAO,YAAY,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,SAASW,KAAK,SAAS,CAACd,EAAG,IAAI,CAACE,YAAY,uBAAuBN,EAAIY,GAAG,eAAeR,EAAG,UAAU,CAACE,YAAY,OAAOC,MAAM,CAAC,QAAUP,EAAImP,wBAAwB,GAAG/O,EAAG,cAAc,CAACE,YAAY,kBAAkBC,MAAM,CAAC,MAAQ,SAAS,KAAO,WAAW,CAACH,EAAG,oBAAoB,CAACE,YAAY,OAAOC,MAAM,CAAC,qBAAuBP,EAAIoP,aAAa,KAAO,aAAa,GAAGhP,EAAG,cAAc,CAACE,YAAY,kBAAkBC,MAAM,CAAC,MAAQ,MAAM,KAAO,QAAQ,CAACH,EAAG,oBAAoB,CAACE,YAAY,OAAOC,MAAM,CAAC,qBAAuBP,EAAIoP,aAAa,KAAO,UAAU,IAAI,IAAI,GAAKpP,EAAIoP,aAA4JpP,EAAI0C,KAAlJtC,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,MAAM,CAACJ,EAAIY,GAAG,4BAAqC,GAAGR,EAAG,cAAc,CAACE,YAAY,kBAAkBC,MAAM,CAAC,MAAQ,SAAS,KAAO,WAAW,CAACH,EAAG,gBAAgB,CAACE,YAAY,OAAOC,MAAM,CAAC,QAAUP,EAAIyC,QAAQ,KAAO,aAAa,IAAI,IAAI,GAAGzC,EAAI0C,KAAO1C,EAAIqP,eAAqHrP,EAAI0C,KAAzGtC,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,MAAM,CAACJ,EAAIY,GAAG,6BAAsC,IACjuD,EAAkB,GCJlB,EAAS,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAW,QAAEiB,WAAW,YAAYX,YAAY,WAAW,CAACF,EAAG,WAAW,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAOP,EAAIwO,QAAQ,aAAa,aAAa,eAAe,CAAC1L,KAAM,OAAQC,MAAO,aAAa,OAAS,KAAK,CAAC3C,EAAG,kBAAkB,CAACG,MAAM,CAAC,SAAW,OAAO,MAAQ,OAAO,MAAQ,MAAM,SAAW,MAAMH,EAAG,kBAAkB,CAACG,MAAM,CAAC,SAAW,QAAQ,MAAQ,QAAQ,SAAW,OAAO,IAAI,IACniB,EAAkB,GCiBtB,IAAqB,EAArB,cAAqC,aACjC,cACI4H,QAMW,qBAFf,gBADC,eAAK,CAAEE,QAAS,M,8BALA,EAAO,gBAD3B,QACoB,WClB6W,ICO9X,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAIrI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,UAAUmD,QAAQ,YAAY1C,OAAQ2B,EAAIsP,KAAMrO,WAAW,UAAUX,YAAY,cAAc,CAAEN,EAAS,MAAEI,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,UAAU,CAACP,EAAIY,GAAG,IAAIZ,EAAIuC,GAAGvC,EAAIwC,MAAMC,SAAS,KAAKrC,EAAG,YAAY,CAACK,GAAG,CAAC,MAAQT,EAAI8N,cAAc,CAAC9N,EAAIY,GAAG,YAAY,GAAGZ,EAAI0C,KAAKtC,EAAG,SAAS,CAACuC,IAAI,YAAYrC,YAAY,OAAOG,GAAG,CAAC,KAAOT,EAAIuP,sBAAsB,IACzd,EAAkB,G,YCmBtB,IAAqB,EAArB,cAA6C,aACzC,cACIpH,QAIJ,KAAA1F,QAA0B,KAC1B,KAAA6M,KAAsB,KAGtB,KAAA9M,MAAsB,KACtB,KAAAV,SAAU,EAGY,uBAACzD,EAAuBmR,SAEpCvP,KAAK6N,cAKI,oBAACzP,GAChB,SAA8B4B,KAAKwK,MAAMgF,UAAWpR,GAGjC,0BACnB,IAAIqR,EAA0BzP,KAAKwK,MAAMgF,UAAWE,gBACpD,GAAKD,EAAL,CAIA,IAAIE,EAAcF,EAAI1I,KAAK6I,cAAc,SAAWH,EAAII,cAAc,QACtEF,EAAYG,aAAa,SAAU,UAEnCL,EAAI1I,KAAKgJ,YAAYJ,IAGR,oBAEb3P,KAAKuC,MAAQ,KACbvC,KAAK6B,SAAU,EACf7B,KAAKqP,KAAO,KAEZ,IACwB,MAAhBrP,KAAKwC,UAELxC,KAAKqP,WAAa,IAAI,GAAqBW,eAAehQ,KAAKwC,QAAQjD,KAE7E,MAAOE,GACLO,KAAKuC,MAAQ9C,EANjB,QAQIO,KAAK6B,SAAU,GAIV,gBAET7B,KAAK6N,cAGM,qBAtDf,gBADC,eAAK,CAAEzF,QAAS,Q,8BASjB,gBADC,eAAM,Y,+BAKN,MAGD,gBADC,eAAM,S,4BAGN,MAvBgB,EAAe,gBADnC,QACoB,WCpBqX,ICOtY,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,GAAS,WAAa,IAAIrI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAe,YAAEiB,WAAW,gBAAgBX,YAAY,kBAAkBN,EAAIgO,GAAIhO,EAAe,aAAE,SAASkQ,GAAY,OAAO9P,EAAG,MAAM,CAACzB,IAAIuR,EAAW1Q,IAAI,CAACY,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,oBAAoB,KAAO,QAAQ,KAAO,UAAU,MAAQ,IAAIE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAImQ,eAAeD,MAAe,CAAClQ,EAAIY,GAAGZ,EAAIuC,GAAG2N,EAAWE,cAAc,MAAK,IACrgB,GAAkB,GCatB,IAAqB,GAArB,cAAoD,aAChD,cACIjI,QAIJ,KAAA1F,QAA0B,KAC1B,KAAA4N,YAA0C,KAIpB,uBAAChS,EAAuBmR,SAEpCvP,KAAKqQ,iBAGK,uBAChB,IAAIzT,EAA8B,GAElC,GAAoB,MAAhBoD,KAAKwC,QAAiB,CAEtB,IAAIgM,EAAQxO,KAAKwC,QAAQgM,MACzBxO,KAAKsQ,eAAe9B,EAAO5R,GAG/BoD,KAAKoQ,YAAcxT,EAGvB,eAAe4R,EAA+B5R,GAC1C,IAAK,IAAI2T,KAAQ/B,EAAO,CACpB,IAAK,IAAIyB,KAAcM,EAAKH,YACxBxT,EAAOP,KAAK4T,GAGhBjQ,KAAKsQ,eAAeC,EAAKvB,WAAYpS,IAI7C,eAAeqT,GACXhR,OAAOuR,KAAKP,EAAWQ,KAGd,sBAEHzQ,KAAKqQ,iBAGA,qBAzCf,gBADC,eAAK,CAAEjI,QAAS,Q,+BAMjB,gBADC,eAAM,Y,gCAIN,MAdgB,GAAsB,gBAD1C,QACoB,cCd4X,MCO7Y,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIrI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,UAAUmD,QAAQ,YAAY1C,MAAO2B,EAAW,QAAEiB,WAAW,YAAYX,YAAY,cAAc,CAAEN,EAAS,MAAEI,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,UAAU,CAACP,EAAIY,GAAG,IAAIZ,EAAIuC,GAAGvC,EAAIwC,MAAMC,SAAS,KAAKrC,EAAG,YAAY,CAACK,GAAG,CAAC,MAAQT,EAAI8N,cAAc,CAAC9N,EAAIY,GAAG,YAAY,GAAGZ,EAAI0C,KAAKtC,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,oBAAoBE,GAAG,CAAC,MAAQT,EAAI+N,WAAW,CAAC/N,EAAIY,GAAG,WAAW,GAAGR,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAU,OAAEiB,WAAW,WAAWX,YAAY,mBAAmB,CAACF,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAOP,EAAIkF,WAAW,IAAI,IAC5tB,GAAkB,GCDlB,GAAS,WAAa,IAAIlF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,OAAO,MAAQ,SAAS,MAAQ,OAAO,OAAS,QAAQE,GAAG,CAAC,KAAOT,EAAI2Q,YAAYxO,MAAM,CAAC9D,MAAO2B,EAAc,WAAEoC,SAAS,SAAUC,GAAMrC,EAAI4Q,WAAWvO,GAAKpB,WAAW,iBAAiB,IAC9T,GAAkB,G,wBCkBtB,IAAqB,GAArB,cAAsC,aAClC,cACIkH,QAIJ,KAAA0I,KAAsB,KAEtB,WAAWC,GACP,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,QAERA,EAAMC,aAAY,GAGR,iBACV,OAAK9Q,KAAK4Q,KAIH5Q,KAAK4Q,KAHD,GAMD,eAACxS,IAIA,qBAvBf,gBADC,kB,4BALgB,GAAQ,gBAN5B,eAAU,CACPsP,WAAY,CACRqD,UAAW,SAIE,cCnB8W,MCO/X,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCQf,IAAqB,GAArB,cAA+C,aAC3B,cACA7I,QAIR,KAAA8I,qBAAoD,KAEpD,KAAA/L,OAAwB,KACxB,KAAAgM,UAA2B,KAC3B,KAAA1O,MAAsB,KACtB,KAAAV,SAAU,EAMiB,oCAACzD,EAA6BmR,SAE3CvP,KAAK6N,cAI3B,WACQ7N,KAAKiR,WACGhS,OAAOuR,KAAKxQ,KAAKiR,WAIhB,oBAEDjR,KAAKuC,MAAQ,KACjBvC,KAAK6B,SAAU,EACf7B,KAAKiF,OAAS,KACdjF,KAAKiR,UAAY,KAEzB,IACqC,MAA7BjR,KAAKgR,uBACa,QAAdhR,KAAKkR,MACLlR,KAAKiR,WAAY,IAAI,GAAqBxM,qBAAqBzE,KAAKgR,qBAAqBG,UAAWnR,KAAKgR,qBAAqBzR,IAClIS,KAAKiF,aAAe,IAAI,GAAqBmM,iBAAiBpR,KAAKgR,qBAAqBG,UAAWnR,KAAKgR,qBAAqBzR,MAGzHS,KAAKiR,WAAY,IAAI,GAAqBzM,kBAAkBxE,KAAKgR,qBAAqBG,UAAWnR,KAAKgR,qBAAqBzR,IAC/HS,KAAKiF,aAAe,IAAI,GAAqBoM,cAAcrR,KAAKgR,qBAAqBG,UAAWnR,KAAKgR,qBAAqBzR,MAIhI,MAAOE,GACGO,KAAKuC,MAAQ9C,EAbzB,QAeYO,KAAK6B,SAAU,GAIlB,gBACG7B,KAAK6N,cAGN,qBArDP,gBADC,kB,4CASG,gBADX,eAAK,CAAEzF,QAAS,Y,4BAIjB,gBADa,eAAM,yB,6CAKV,MArBQ,GAAiB,gBALjC,eAAU,CACPsF,WAAY,CACR4D,SAAU,OAGD,cC1BuX,MCOxY,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIvR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,UAAUmD,QAAQ,YAAY1C,MAAO2B,EAAW,QAAEiB,WAAW,YAAYX,YAAY,cAAc,CAAEN,EAAS,MAAEI,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,UAAU,CAACP,EAAIY,GAAG,IAAIZ,EAAIuC,GAAGvC,EAAIwC,MAAMC,SAAS,KAAKrC,EAAG,YAAY,CAACK,GAAG,CAAC,MAAQT,EAAI8N,cAAc,CAAC9N,EAAIY,GAAG,YAAY,GAAGZ,EAAI0C,KAAKtC,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAASE,GAAG,CAAC,MAAQT,EAAI+N,WAAW,CAAC/N,EAAIY,GAAG,WAAW,GAAGR,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAU,OAAEiB,WAAW,WAAWX,YAAY,mBAAmB,CAACF,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAOP,EAAIkF,WAAW,IAAI,IAClsB,GAAkB,GCyBtB,IAAqB,GAArB,cAA+C,aAC3C,cACIiD,QAIJ,KAAA1F,QAA0B,KAE1B,KAAAyC,OAAwB,KACxB,KAAAgM,UAA2B,KAC3B,KAAA1O,MAAsB,KACtB,KAAAV,SAAU,EAMY,uBAACzD,EAAgBmR,SAE7BvP,KAAK6N,cAIf,WACQ7N,KAAKiR,WACLhS,OAAOuR,KAAKxQ,KAAKiR,WAIR,oBAEbjR,KAAKuC,MAAQ,KACbvC,KAAK6B,SAAU,EACf7B,KAAKiF,OAAS,KACdjF,KAAKiR,UAAY,KAEjB,IACwB,MAAhBjR,KAAKwC,UACa,QAAdxC,KAAKkR,MACLlR,KAAKiR,WAAY,IAAI,GAAqBvM,wBAAwB1E,KAAKwC,QAAQjD,IAC/ES,KAAKiF,aAAe,IAAI,GAAqBsM,oBAAoBvR,KAAKwC,QAAQjD,MAG9ES,KAAKiR,WAAY,IAAI,GAAqBtM,qBAAqB3E,KAAKwC,QAAQjD,IAC5ES,KAAKiF,aAAe,IAAI,GAAqBsM,oBAAoBvR,KAAKwC,QAAQjD,MAIxF,MAAOE,GACLO,KAAKuC,MAAQ9C,EAbjB,QAeIO,KAAK6B,SAAU,GAIV,gBACT7B,KAAK6N,cAGM,qBArDf,gBADC,kB,+BASD,gBADC,eAAK,CAAEzF,QAAS,Y,4BAIjB,gBADC,eAAM,Y,gCAKN,MArBgB,GAAiB,gBALrC,eAAU,CACPsF,WAAY,CACR4D,SAAU,OAGG,cC1BmX,MCOpY,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QC2If,IAAqB,GAArB,cAAyC,aACrC,cACIpJ,QAIJ,KAAAkH,eAAwC,KACxC,KAAA5M,QAA0B,KAC1B,KAAA2M,aAA4C,KAC5C,KAAAqC,SAA6B,GAE7B,KAAAjP,MAAsB,KACtB,KAAAV,SAAU,EAGkB,6BACxBzD,EACAmR,SAEMvP,KAAK6N,cAGE,oBACb7N,KAAKuC,MAAQ,KACbvC,KAAK6B,SAAU,EACf7B,KAAKwC,QAAU,KACfxC,KAAKmP,aAAe,KAEpB,IACI,GAA2B,MAAvBnP,KAAKoP,iBACLpP,KAAKwC,cAAgB,IAAI,GAAqBiP,WAC1CzR,KAAKoP,eAAe7P,IAEpBS,KAAKwK,MAAMkH,WACJ1R,KAAKwK,MAAMkH,UAAWC,eAClB3R,KAAKwK,MAAMkH,UAAWE,QAAQ,IAG7C5R,KAAK6R,cAED7R,KAAKoP,eAAepE,UAAU,CAC9B,IAAI8G,EAAwB9R,KAAKoP,eACjC5H,WAAWgG,UACP,GAC2B,MAAvBxN,KAAKoP,gBACL0C,EAAsBvS,IAAMS,KAAKoP,eAAe7P,GAEhD,UACU,IAAI,GAAqBwS,gBAC3B/R,KAAKoP,eAAe7P,IAE1B,MAAOE,GACLuS,QAAQzP,MAAM9C,KAGvB,MAGb,MAAOA,GACLO,KAAKuC,MAAQ9C,EA/BjB,QAiCIO,KAAK6B,SAAU,GAIN,oBACb,IAAIjF,EAA2B,GAE/B,GAAoB,MAAhBoD,KAAKwC,QAAiB,CACtB,IAAIgM,EAAQxO,KAAKwC,QAAQgM,MACzBxO,KAAKiS,YAAYzD,EAAO5R,GAE5BoD,KAAKwR,SAAW5U,EAGpB,YAAY4R,EAA+B5R,GACvC,IAAK,IAAI2T,KAAQ/B,EAAO,CACpB,IAAK,IAAIR,KAAWuC,EAAKiB,SACrB5U,EAAOP,KAAK2R,GAGhBhO,KAAKiS,YAAY1B,EAAKvB,WAAYpS,IAI1C,OAAOwB,GACH,OACMA,EAAiCrC,SACjCqC,EAA+B4Q,WAAWjT,OAIpD,gBAAgBwU,GACZvQ,KAAKmP,aAAeoB,EAGV,iBACiB,MAAvBvQ,KAAKoP,gBAGTnQ,OAAOuR,MACH,IAAI,GAAqBrM,oBAAoBnE,KAAKoP,eAAe7P,KAI5D,sBACHS,KAAK6N,cAGA,mBAEJ,cACP,OAAuB,MAAhB7N,KAAKwC,QAAkBxC,KAAKwC,QAAQ+L,QAAU,GAGlC,0BACnB,OAA4B,MAArBvO,KAAKmP,aAAuBnP,KAAKmP,aAAaZ,QAAU,KA9GnE,gBADC,eAAK,K,sCAUN,gBADC,eAAM,mB,sCAMN,MApBgB,GAAW,gBAT/B,eAAU,CACPb,WAAY,CACRa,QAAS,EACT,mBAAoB,EACpB2D,uBAAwB,GACxBC,kBAAmB,GACnBC,cAAe,OAGF,cC7JiX,MCOlY,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIrS,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,qBAAqB,CAACG,MAAM,CAAC,aAAa,oBAAoB,QAAU,iDAAiDE,GAAG,CAAC,QAAUT,EAAI2B,QAAQ,CAACvB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,gBAAgB,MAAQ,YAAY,GAAGH,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,iBAAiB,UAAYP,EAAIsS,gBAAgB,MAAQ,UAAU7R,GAAG,CAAC,MAAQT,EAAI6B,kBAAkBzB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,kBAAkB,SAAWP,EAAI8B,QAAQ,MAAQ,WAAWrB,GAAG,CAAC,MAAQT,EAAI+B,YAAY,GAAI/B,EAAS,MAAEI,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,QAAQ,MAAQ,QAAQ,YAAY,KAAK,CAACP,EAAIY,GAAG,IAAIZ,EAAIuC,GAAGvC,EAAIwC,MAAMC,SAAS,KAAKrC,EAAG,YAAY,CAACK,GAAG,CAAC,MAAQT,EAAI+B,UAAU,CAAC/B,EAAIY,GAAG,YAAY,GAAGZ,EAAI0C,KAAKtC,EAAG,WAAW,CAACU,WAAW,CAAC,CAAClD,KAAK,UAAUmD,QAAQ,YAAY1C,MAAO2B,EAAW,QAAEiB,WAAW,YAAY0B,IAAI,QAAQrC,YAAY,QAAQC,MAAM,CAAC,KAAOP,EAAIuS,SAAS,aAAa,cAAc,wBAAwB,GAAG,eAAe,CAACzP,KAAM,UAAWC,MAAO,cAAc,KAAO,YAAY,oBAAoB,OAAO,UAAU,KAAK,OAAS,IAAItC,GAAG,CAAC,iBAAiBT,EAAIiD,sBAAsB,CAAC7C,EAAG,kBAAkB,CAACG,MAAM,CAAC,SAAW,UAAU,MAAQ,WAAW,MAAQ,MAAM,SAAW,GAAG,UAAYP,EAAImD,cAAc/C,EAAG,kBAAkB,CAACG,MAAM,CAAC,SAAW,gBAAgB,MAAQ,iBAAiB,SAAW,MAAMH,EAAG,kBAAkB,CAACG,MAAM,CAAC,SAAW,mBAAmB,MAAQ,SAAS,MAAQ,MAAM,SAAW,IAAI6C,YAAYpD,EAAIqD,GAAG,CAAC,CAAC1E,IAAI,UAAU2E,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMC,IAAuB,oBAAEpD,EAAG,IAAI,CAACE,YAAY,kBAAkBC,MAAM,CAAC,MAAQ,wCAAwCP,EAAI0C,KAAK1C,EAAIY,GAAG,IAAIZ,EAAIuC,GAAGgB,EAAMC,IAAIgP,kBAAkB,aAAa,IAAI,IAC3xD,GAAkB,GCKR,MAAO,GAEjB,eAMO,mBACH,MAAO,eAGc,qBAErB,aAAc,EAAA1O,EAAM7F,IAAIgC,KAAK8D,wBAA4BC,IAAYxI,KAIlE,eAAegE,GAClB,MAAO,gBAAgBqE,mBAAmBrE,GAGvB,iBAACA,GAEpB,aAAc,EAAAsE,EAAM7F,IAAIgC,KAAKwS,eAAejT,QAAawE,IAAYxI,KAIlE,kBAAkBgE,GACrB,MAAO,gBAAgBqE,mBAAmBrE,SAGpB,oBAACA,GAEvB,aAAc,EAAAsE,EAAM7F,IAAIgC,KAAKyS,kBAAkBlT,QAAawE,IAAYxI,KAIrE,WAAWgE,GACd,MAAO,gBAAgBqE,mBAAmBrE,GAG3B,aAACA,GAEhB,aAAc,EAAAsE,EAAMgB,OAAO7E,KAAK8E,WAAWvF,QAAawE,IAAYxI,KAIjE,gBACH,MAAO,iBAGW,kBAElB,aAAc,EAAAsI,EAAMgB,OAAO7E,KAAK+E,qBAAyBhB,IAAYxI,MCQ7E,IAAqB,GAArB,cAAyC,aACrC,cACI2M,QAKJ,KAAAtH,WAA0C,KAE1C,KAAA0R,SAA6B,GAC7B,KAAA/P,MAAsB,KACtB,KAAA8P,gBAAyC,KACzC,KAAAxQ,SAAmB,EACX,KAAAyI,MAAQ,IAAI,OAEpB,oBAAoBoI,GAChB1S,KAAKqS,gBAAkBK,EACvB1S,KAAKiJ,MAAM,2BAA4ByJ,GAG3C,WACInP,EACAoH,EACAC,EACA+H,GAEA,OAAa9H,EAAQD,GAAWE,OAAO,uBAG3C,cAAc4H,GACA1S,KAAKwK,MAAMC,MAAOC,cAAcgI,GAC1C1S,KAAKgD,oBAAoB0P,GAGT,uBAChB,GAA4B,MAAxB1S,KAAKqS,gBACL,OAGJrS,KAAK6B,SAAU,EACf,IAAI+Q,EAAkB5S,KAAKqS,gBAEvBhG,EAAYrM,KAAKsS,SAAS3L,QAAQiM,GAAmB,EACrDvG,GAAa,GACbrM,KAAK6S,cAAc7S,KAAKsS,SAASjG,IAGrC,UACU,IAAI,IAAqBxH,OAAO+N,EAAgBrT,IACtDS,KAAK8B,UACP,MAAOrC,GACLO,KAAK8L,QAAQvJ,MAAM,CAAEyJ,MAAO,wBAAyBxJ,QAAS/C,EAAE+C,UAJpE,QAMIxC,KAAK6B,SAAU,GAIZ,cACP7B,KAAK6B,SAAU,EACf,UACU,IAAI,IAAqByK,YAC/BtM,KAAK8B,UACP,MAAOrC,GACLO,KAAK8L,QAAQvJ,MAAM,CAAEyJ,MAAO,wBAAyBxJ,QAAS/C,EAAE+C,UAJpE,QAMIxC,KAAK6B,SAAU,GAIV,cAACuF,GAAgB,GAC1B,IAAIwF,QAAe5M,KAAKsK,MAAMuC,UAE9B,IACI7M,KAAKuC,MAAQ,KACbvC,KAAK6B,SAAWuF,EAEhB,IAAI0L,QAAoB,IAAI,IAAqB9F,eACjDhI,EACI8N,EACA9S,KAAKsS,SACL,CAACzO,EAAmB8F,IAAsB9F,EAAEtE,IAAMoK,EAAEpK,IAInDS,KAAKsS,SAAS7F,KACXjP,GAA6B,MAAxBwC,KAAKqS,iBAA2B7U,EAAE+B,IAAMS,KAAKqS,gBAAgB9S,KAGtES,KAAKgD,oBAAoB,MAE/B,MAAOvD,GACLO,KAAKuC,MAAQ9C,EAnBjB,QAqBIO,KAAK6B,SAAU,EACf+K,KAIK,gBACT5M,KAAK8B,SAAQ,GAIQ,4BACjB9B,KAAKY,aACLZ,KAAKY,WAAWJ,GAAG,kBAAmB,KAClCR,KAAK8B,SAAQ,KAEjB9B,KAAKY,WAAW6M,uBAAuB,IAAMzN,KAAK8B,SAAQ,OArGlE,gBADC,eAAK,CAACsG,QAAS,Q,kCAiGhB,gBADC,eAAM,e,mCAQN,MA9GgB,GAAW,gBAL/B,eAAU,CACPsF,WAAY,CACRC,mBAAoB,MAGP,cCpEiX,MCOlY,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI5N,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,UAAUmD,QAAQ,iBAAiB1C,MAAO2B,EAAW,QAAEiB,WAAW,UAAU4M,UAAU,CAAC,MAAO,KAAQvN,YAAY,+BAA+B,CAAEN,EAAS,MAAEI,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,UAAU,CAACP,EAAIY,GAAG,IAAIZ,EAAIuC,GAAGvC,EAAIwC,MAAMC,SAAS,KAAKrC,EAAG,YAAY,CAACK,GAAG,CAAC,MAAQT,EAAI8N,cAAc,CAAC9N,EAAIY,GAAG,YAAY,GAAGZ,EAAI0C,KAAM1C,EAAS,MAAEI,EAAG,MAAM,CAACE,YAAY,oBAAoBN,EAAI0C,KAAM1C,EAAkB,eAAEI,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAAEN,EAAI2S,SAAW3S,EAAI2S,QAAQnQ,MAAOpC,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,UAAU,YAAY,GAAG,MAAQ,uCAAuC,CAACP,EAAIY,GAAGZ,EAAIuC,GAAGvC,EAAI2S,QAAQnQ,UAAUxC,EAAI0C,KAAKtC,EAAG,UAAU,CAACE,YAAY,OAAOE,YAAY,CAAC,OAAS,OAAO,MAAQ,QAAQD,MAAM,CAAC,MAAQ,MAAM,KAAO,gBAAgB,CAACH,EAAG,cAAc,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,QAAQ,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,SAASW,KAAK,SAAS,CAACd,EAAG,IAAI,CAACE,YAAY,uBAAuBN,EAAIY,GAAG,WAAWR,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAASE,GAAG,CAAC,MAAQT,EAAI+N,WAAW,CAAC/N,EAAIY,GAAG,WAAW,GAAGR,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAO,IAAEiB,WAAW,QAAQX,YAAY,mBAAmB,CAACF,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAOP,EAAIgT,QAAQ,MAAM,IAAI,GAAGhT,EAAI0C,KAAO1C,EAAIiT,eAAoHjT,EAAI0C,KAAxGtC,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,MAAM,CAACJ,EAAIY,GAAG,4BAAqC,IAC59C,GAAkB,GCiDtB,IAAqB,GAArB,cAAyC,aACvC,cACEuH,QAIF,KAAA8K,eAAwC,KACxC,KAAAN,QAA0B,KAC1B,KAAAK,IAAqB,KAErB,KAAAxQ,MAAsB,KACtB,KAAAV,SAAU,EAGY,uBACpBzD,EACAmR,SAEMvP,KAAKiT,cAGb,WACMjT,KAAKgT,gBACP/T,OAAOuR,MACL,IAAI,IAAqBiC,kBAAkBzS,KAAKgT,eAAezT,KAKpD,oBACfS,KAAKuC,MAAQ,KACbvC,KAAK6B,SAAU,EACf7B,KAAK0S,QAAU,KACf1S,KAAK+S,IAAM,KAEX,IAC6B,MAAvB/S,KAAKgT,iBACPhT,KAAK0S,cAAgB,IAAI,IAAqBQ,WAC5ClT,KAAKgT,eAAezT,IAEtBS,KAAK+S,UAAY,IAAI,IAAqBI,cACxCnT,KAAKgT,eAAezT,KAGxB,MAAOE,GACPO,KAAKuC,MAAQ9C,EAVf,QAYEO,KAAK6B,SAAU,GAIN,iBAEE,qBA/Cf,gBADC,eAAK,K,sCASN,gBADC,eAAM,mB,gCAMN,MAnBkB,GAAW,gBAL/B,eAAU,CACT6L,WAAY,CACV4D,SAAU,OAGO,cClDiX,MCOlY,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,qBChBD,MAAO,GAQjB,YAAYb,GALZ,KAAA1P,WAAqB,EACb,KAAAqS,mBAAqC,GAC7C,KAAAC,SAAmB,EACnB,KAAA9Q,MAAoB,KAGhBvC,KAAKsT,aAAc,IAAI,SAAuBC,QAAQ9C,GAAK+C,iBAAiB,QAASC,OAAOC,QAC5F1T,KAAKsT,YAAY/L,QAAQvH,KAAK2T,mBAAmBhV,KAAKqB,OAI9B,6BAAC4T,GAEzB5T,KAAKoT,mBAAmB/W,KAAKuX,GAEzB5T,KAAKe,WACL6S,IAIG,cAEP,IAAI5T,KAAKqT,QAAT,CAIArT,KAAKuC,MAAQ,KACbvC,KAAKqT,SAAU,EACf,UACUrT,KAAKsT,YAAYO,QACvB7T,KAAKe,WAAY,EAEjB,IAAK,MAAM6S,KAAqB5T,KAAKoT,mBACjCQ,IAEN,MAAOnU,GACLO,KAAKuC,MAAQ9C,IAIX,aACNO,KAAKqT,SAAU,QACTrT,KAAKsT,YAAYQ,OAG3B,mBAAmBrU,GACfO,KAAKe,WAAY,EACjBf,KAAKqT,SAAU,EACfrT,KAAKuC,MAAQ9C,GAAK,KAItB,GAAGsU,EAAmBC,GAClBhU,KAAKsT,YAAY9S,GAAGuT,EAAWC,IC1DvC,IAAI,GAAS,WAAa,IAAIjU,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,UAAUmD,QAAQ,YAAY1C,MAAO2B,EAAW,QAAEiB,WAAW,aAAa,CAAEjB,EAAIkU,QAAUlU,EAAIkU,OAAOC,UAAW/T,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,uBAAuB,KAAO,QAAQE,GAAG,CAAC,MAAQT,EAAI+T,OAAO,CAAC/T,EAAIY,GAAG,kCAAkCZ,EAAIuC,GAAGvC,EAAIkU,OAAOE,eAAepU,EAAI0C,MAAM1C,EAAIkU,QAAWlU,EAAIkU,OAAOC,WAAcnU,EAAIkU,OAAOG,UAA2IrU,EAAI0C,KAApItC,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,uBAAuB,KAAO,UAAUE,GAAG,CAAC,MAAQT,EAAI8T,QAAQ,CAAC9T,EAAIY,GAAG,0BAAoCZ,EAAIkU,SAAWlU,EAAIkU,OAAOC,WAAanU,EAAIkU,OAAOG,UAAWjU,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,uBAAuB,KAAO,UAAUE,GAAG,CAAC,MAAQT,EAAI8T,QAAQ,CAAC9T,EAAIY,GAAG,uBAAuBR,EAAG,MAAMJ,EAAIY,GAAGZ,EAAIuC,GAAGvC,EAAIkU,OAAOG,cAAcrU,EAAI0C,MAAM,IACp1B,GAAkB,GCgBtB,IAAqB,GAArB,cAA0C,aAEtC,cACIyF,QAIJ,KAAAtH,WAA0C,KAE1C,KAAA2B,MAAsB,KACd,KAAA+H,MAAQ,IAAI,OACpB,KAAAzI,SAAmB,EACnB,KAAAoS,OAAwB,KAEX,cAAC7M,GAAgB,GAC1B,IAAIwF,QAAe5M,KAAKsK,MAAMuC,UAE9B,IACI7M,KAAKuC,MAAQ,KACbvC,KAAK6B,SAAWuF,EAEhBpH,KAAKiU,aAAe,IAAI,GAAmB9G,YAC7C,MAAO1N,GACLO,KAAKuC,MAAQ9C,EANjB,QAQIO,KAAK6B,SAAU,EACf+K,KAIE,aACN,IAAIrD,EAAuB,IAAMvJ,KAAKiU,QACtC1K,EAAa2K,WAAY,QAEnB,IAAI,GAAmBG,aAAa9K,GAGnC,cACP,IAAIA,EAAuB,IAAMvJ,KAAKiU,QACtC1K,EAAa2K,WAAY,QACnB,IAAI,GAAmBG,aAAa9K,GAGjC,sBACHvJ,KAAK8B,UAIf,sBACQ9B,KAAKY,aACLZ,KAAKY,WAAWJ,GAAG,gBAAiBgN,gBAC1BxN,KAAK8B,YAGf9B,KAAKY,WAAW6M,uBAAuB,IAAMzN,KAAK8B,cA/C1D,gBADC,eAAK,CAAEsG,QAAS,Q,kCA0CjB,gBADC,eAAM,e,mCASN,MAxDgB,GAAY,gBADhC,QACoB,cCjBkX,MCOnY,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIrI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,WAAW,QAAUP,EAAI8H,QAAQ,MAAQ,MAAM,wBAAuB,EAAM,eAAe9H,EAAIuU,aAAa9T,GAAG,CAAC,iBAAiB,SAASC,GAAQV,EAAI8H,QAAQpH,GAAQ,KAAOV,EAAI+B,UAAU,CAAC3B,EAAG,MAAM,CAACU,WAAW,CAAC,CAAClD,KAAK,UAAUmD,QAAQ,YAAY1C,MAAO2B,EAAW,QAAEiB,WAAW,aAAa,CAAEjB,EAAS,MAAEI,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,QAAQ,MAAQ,QAAQ,YAAY,KAAK,CAACP,EAAIY,GAAG,IAAIZ,EAAIuC,GAAGvC,EAAIwC,MAAMC,SAAS,OAAOzC,EAAI0C,KAAM1C,EAAU,OAAEI,EAAG,UAAU,CAACuC,IAAI,OAAOpC,MAAM,CAAC,MAAQN,KAAK,MAAQD,EAAIwU,MAAM,SAAWxU,EAAIyU,SAAS,CAACrU,EAAG,UAAU,CAACG,MAAM,CAAC,eAAe,QAAQ,CAACH,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,gBAAgB,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,WAAW,KAAO,oBAAoB,CAACH,EAAG,WAAW,CAAC+B,MAAM,CAAC9D,MAAO2B,EAAIkU,OAAe,SAAE9R,SAAS,SAAUC,GAAMrC,EAAI0U,KAAK1U,EAAIkU,OAAQ,WAAY7R,IAAMpB,WAAW,sBAAsB,GAAGb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,cAAc,KAAO,sBAAsB,CAACH,EAAG,kBAAkB,CAACG,MAAM,CAAC,IAAM,EAAE,IAAM,MAAM,oBAAoB,SAAS4B,MAAM,CAAC9D,MAAO2B,EAAIkU,OAAiB,WAAE9R,SAAS,SAAUC,GAAMrC,EAAI0U,KAAK1U,EAAIkU,OAAQ,aAAc7R,IAAMpB,WAAW,wBAAwB,GAAGb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,2BAA2B,KAAO,kCAAkC,CAACH,EAAG,YAAY,CAAC+B,MAAM,CAAC9D,MAAO2B,EAAIkU,OAA6B,uBAAE9R,SAAS,SAAUC,GAAMrC,EAAI0U,KAAK1U,EAAIkU,OAAQ,yBAA0B7R,IAAMpB,WAAW,oCAAoC,IAAI,GAAGb,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,gBAAgB,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,cAAc,KAAO,0BAA0B,CAACH,EAAG,kBAAkB,CAACG,MAAM,CAAC,IAAM,EAAE,IAAM,MAAM,oBAAoB,SAAS4B,MAAM,CAAC9D,MAAO2B,EAAIkU,OAAqB,eAAE9R,SAAS,SAAUC,GAAMrC,EAAI0U,KAAK1U,EAAIkU,OAAQ,iBAAkB7R,IAAMpB,WAAW,4BAA4B,IAAI,GAAGb,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,WAAW,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,wBAAwB,KAAO,kCAAkC,CAACH,EAAG,kBAAkB,CAACG,MAAM,CAAC,IAAM,EAAE,oBAAoB,SAAS4B,MAAM,CAAC9D,MAAO2B,EAAIkU,OAA6B,uBAAE9R,SAAS,SAAUC,GAAMrC,EAAI0U,KAAK1U,EAAIkU,OAAQ,yBAA0B7R,IAAMpB,WAAW,oCAAoC,GAAGb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,wBAAwB,KAAO,kCAAkC,CAACH,EAAG,kBAAkB,CAACG,MAAM,CAAC,IAAM,EAAE,oBAAoB,SAAS4B,MAAM,CAAC9D,MAAO2B,EAAIkU,OAA6B,uBAAE9R,SAAS,SAAUC,GAAMrC,EAAI0U,KAAK1U,EAAIkU,OAAQ,yBAA0B7R,IAAMpB,WAAW,oCAAoC,IAAI,GAAGb,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,kBAAkB,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,wBAAwB,KAAO,mBAAmB,CAACH,EAAG,YAAY,CAAC+B,MAAM,CAAC9D,MAAO2B,EAAkB,eAAEoC,SAAS,SAAUC,GAAMrC,EAAI2U,eAAetS,GAAKpB,WAAW,qBAAqB,GAAGb,EAAG,eAAe,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAkB,eAAEiB,WAAW,mBAAmBV,MAAM,CAAC,MAAQ,cAAc,KAAO,mCAAmC,CAACH,EAAG,WAAW,CAAC+B,MAAM,CAAC9D,MAAO2B,EAAIkU,OAAO7G,aAAuB,WAAEjL,SAAS,SAAUC,GAAMrC,EAAI0U,KAAK1U,EAAIkU,OAAO7G,aAAc,aAAchL,IAAMpB,WAAW,qCAAqC,GAAGb,EAAG,eAAe,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAkB,eAAEiB,WAAW,mBAAmBV,MAAM,CAAC,MAAQ,YAAY,KAAO,iCAAiC,CAACH,EAAG,kBAAkB,CAACG,MAAM,CAAC,IAAM,EAAE,IAAM,MAAM,oBAAoB,SAAS4B,MAAM,CAAC9D,MAAO2B,EAAIkU,OAAO7G,aAAqB,SAAEjL,SAAS,SAAUC,GAAMrC,EAAI0U,KAAK1U,EAAIkU,OAAO7G,aAAc,WAAYhL,IAAMpB,WAAW,mCAAmC,GAAGb,EAAG,eAAe,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAkB,eAAEiB,WAAW,mBAAmBV,MAAM,CAAC,MAAQ,QAAQ,KAAO,8BAA8B,CAACH,EAAG,WAAW,CAAC+B,MAAM,CAAC9D,MAAO2B,EAAIkU,OAAO7G,aAAkB,MAAEjL,SAAS,SAAUC,GAAMrC,EAAI0U,KAAK1U,EAAIkU,OAAO7G,aAAc,QAAShL,IAAMpB,WAAW,gCAAgC,GAAGb,EAAG,eAAe,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAkB,eAAEiB,WAAW,mBAAmBV,MAAM,CAAC,MAAQ,WAAW,KAAO,iCAAiC,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,YAAY4B,MAAM,CAAC9D,MAAO2B,EAAIkU,OAAO7G,aAAqB,SAAEjL,SAAS,SAAUC,GAAMrC,EAAI0U,KAAK1U,EAAIkU,OAAO7G,aAAc,WAAYhL,IAAMpB,WAAW,mCAAmC,GAAGb,EAAG,eAAe,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAkB,eAAEiB,WAAW,mBAAmBV,MAAM,CAAC,MAAQ,sDAAsD,KAAO,sCAAsC,CAACH,EAAG,WAAW,CAAC+B,MAAM,CAAC9D,MAAO2B,EAAIkU,OAAO7G,aAA0B,cAAEjL,SAAS,SAAUC,GAAMrC,EAAI0U,KAAK1U,EAAIkU,OAAO7G,aAAc,gBAAiBhL,IAAMpB,WAAW,wCAAwC,GAAGb,EAAG,eAAe,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,MAAO2B,EAAkB,eAAEiB,WAAW,mBAAmBV,MAAM,CAAC,MAAQ,wBAAwB,KAAO,mBAAmB,CAACP,EAAIgO,GAAIhO,EAAIkU,OAAO7G,aAA4B,iBAAE,SAASuH,EAAMhC,GAAO,OAAOxS,EAAG,MAAM,CAACzB,IAAIiU,GAAO,CAACxS,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,+BAAiCqS,EAAQ,UAAU,MAAQ,CAACiC,UAAU,EAAMpS,QAAS,cAAc,CAACrC,EAAG,WAAW,CAAC+B,MAAM,CAAC9D,MAAO2B,EAAIkU,OAAO7G,aAAayH,gBAAgBlC,GAAQxQ,SAAS,SAAUC,GAAMrC,EAAI0U,KAAK1U,EAAIkU,OAAO7G,aAAayH,gBAAiBlC,EAAOvQ,IAAMpB,WAAW,+CAA+C,CAACb,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAUE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIkU,OAAO7G,aAAayH,gBAAgB5X,OAAO0V,EAAO,KAAK1R,KAAK,UAAU,CAAClB,EAAIY,GAAG,aAAa,IAAI,IAAI,MAAKR,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAASE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIkU,OAAO7G,aAAayH,gBAAgBxY,KAAK,OAAO,CAAC0D,EAAIY,GAAG,+BAA+B,IAAI,IAAI,IAAI,GAAGZ,EAAI0C,MAAM,GAAGtC,EAAG,OAAO,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAUW,KAAK,UAAU,CAACd,EAAG,YAAY,CAACG,MAAM,CAAC,SAAWP,EAAIyU,OAAO,QAAUzU,EAAIyU,QAAQhU,GAAG,CAAC,MAAQT,EAAI+U,OAAO,CAAC/U,EAAIY,GAAG,WAAW,MACrhM,GAAkB,GC+FtB,IAAqB,GAArB,cAA4C,aAExC,cACIuH,QAIJ,KAAAtH,WAA0C,KAE1C,KAAA2B,MAAsB,KACd,KAAA+H,MAAQ,IAAI,OACpB,KAAAzI,SAAmB,EACnB,KAAA2S,QAAkB,EAClB,KAAAP,OAAwB,KA0BxB,KAAApM,SAAmB,EAOX,KAAAkN,qBAA+B,EAavC,KAAAC,4BAAqC,GA5C5B,YACL,IAAIpY,EAAS,CACTqX,OAAQ,CACJgB,SAAU,CAAC,CAAEL,UAAU,EAAMpS,QAAS,yBACtC2R,WAAY,CAAC,CAAES,UAAU,EAAMpS,QAAS,4BACxC0S,uBAAwB,CAAC,CAAEN,UAAU,EAAMpS,QAAS,sCACpD2S,uBAAwB,CAAC,CAAEP,UAAU,EAAMpS,QAAS,sCACpD4K,aAAc,CACVC,WAAsB,GACtB+H,SAAoB,MAUhC,OALIpV,KAAK0U,iBACL9X,EAAOqX,OAAO7G,aAAaC,WAAWhR,KAAK,CAAEuY,UAAU,EAAMpS,QAAS,gDACtE5F,EAAOqX,OAAO7G,aAAagI,SAAS/Y,KAAK,CAAEuY,UAAU,EAAMpS,QAAS,+CAGjE5F,EAOX,cACGoD,KAAKiJ,MAAM,UAKI,qBACd,OAAOjJ,KAAK+U,oBAGE,mBAAC3W,GACf4B,KAAK+U,oBAAsB3W,GACtB4B,KAAK+U,qBAAuB/U,KAAKiU,SAClCjU,KAAKiU,OAAO7G,aAAaC,WAAa,GACtCrN,KAAKiU,OAAO7G,aAAayH,gBAAgB5X,OAAO,EAAG+C,KAAKiU,OAAO7G,aAAayH,gBAAgB9Y,SAOpG,qCAESiE,KAAKiU,SAIVjU,KAAKgV,4BAA8BhV,KAAKiU,OAAO7G,aAAayH,gBAAgBzV,IAAI,CAACuG,EAAG9J,KACzE,CAAEuC,MAAOuH,MAKd,aACN3F,KAAKwU,QAAS,EACdxU,KAAKuC,MAAQ,KACb,IACI,IAAI8S,QAAsBrV,KAAKwK,MAAM,QAAS8K,WAE1CD,UAEM,IAAI,GAAmBhB,aAAarU,KAAKiU,QAC/CjU,KAAKsU,eAEX,MAAO7U,GACLO,KAAKuC,MAAQ9C,EATjB,QAWIO,KAAKwU,QAAS,GAIT,cAACpN,GAAkB,GAC5B,IAAIwF,QAAe5M,KAAKsK,MAAMuC,UAE9B,IACI7M,KAAKuC,MAAQ,KACbvC,KAAK6B,SAAWuF,EAEhBpH,KAAKiU,aAAe,IAAI,GAAmB9G,YAC3CnN,KAAK0U,iBAAmB1U,KAAKiU,OAAO7G,aAAaC,WACnD,MAAO5N,GACLO,KAAKuC,MAAQ9C,EAPjB,QASIO,KAAK6B,SAAU,EACf+K,KAIK,sBACH5M,KAAK8B,UAIf,sBACQ9B,KAAKY,aACLZ,KAAKY,WAAWJ,GAAG,gBAAiBgN,gBAC1BxN,KAAK8B,YAGf9B,KAAKY,WAAW6M,uBAAuB,IAAMzN,KAAK8B,cAjH1D,gBADC,eAAK,CAAEsG,QAAS,Q,kCAiCjB,gBADC,eAAK,CAAEA,SAAS,K,+BAwBjB,gBADC,eAAM,wC,kDAWN,MA0CD,gBADC,eAAM,e,mCASN,MA1HgB,GAAc,gBADlC,QACoB,cChGoX,MCOrY,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIrI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACU,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAAS1C,OAAQ2B,EAAIa,aAAeb,EAAIa,WAAWG,UAAWC,WAAW,yCAAyCV,MAAM,CAAC,KAAO,QAAQ,KAAOP,EAAIwV,aAAa,KAAOxV,EAAIyV,aAAa,MAAQzV,EAAI0V,eAAejV,GAAG,CAAC,MAAQT,EAAI2V,cAAc,CAAC3V,EAAIY,GAAGZ,EAAIuC,GAAGvC,EAAI4V,kBACjZ,GAAkB,GCSlB,IAAqB,GAArB,cAAiD,aAE7C,cACIzN,QAIJ,KAAAtH,WAA0C,KAuB1C,KAAA8U,YAAc,KACN1V,KAAKY,aAEAZ,KAAKY,WAAWyS,QAGjBrT,KAAKY,WAAWkT,OAFhB9T,KAAKY,WAAWiT,UAzB5B,aACI,OAAO7T,KAAKY,YAAcZ,KAAKY,WAAWG,UAAY,UAAYf,KAAKY,YAAcZ,KAAKY,WAAWyS,QAAU,UAAY,SAG/H,aACR,IAAIuC,EAAY5V,KAAKY,YAAcZ,KAAKY,WAAW2B,MAAQ,YAAcvC,KAAKY,WAAW2B,MAAMC,QAAU,GAE7F,OAAQxC,KAAKY,YAAcZ,KAAKY,WAAWG,UAAY,uBAAyBf,KAAKY,YAAcZ,KAAKY,WAAWyS,QAAU,gBAAkB,yBAA2BuC,EAG9K,cACI,IAAIA,EAAY5V,KAAKY,YAAcZ,KAAKY,WAAW2B,MAAQ,YAAcvC,KAAKY,WAAW2B,MAAMC,QAAU,GAEzG,OAAQxC,KAAKY,YAAcZ,KAAKY,WAAWG,UAAY,6CAA+Cf,KAAKY,YAAcZ,KAAKY,WAAWyS,QAAU,gCAAkC,2CAA6CuC,EAGtO,aACI,OAAO5V,KAAKY,YAAcZ,KAAKY,WAAWG,UAAY,mBAAoBf,KAAKY,YAAcZ,KAAKY,WAAWyS,QAAU,mBAe9G,iBAIE,qBAtCf,gBADC,eAAK,CAAEjL,QAAS,Q,kCANA,GAAmB,gBADvC,QACoB,cCVqX,MCO1Y,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,+BCgEf,IAAqB,GAArB,cAAkC,aA4C9B,cACIF,QA5CJ,KAAA7G,gBAAyC,KACzC,KAAAG,gBAAyC,KAEzC,KAAAZ,WAA0C,KAE1C,KAAAF,iBAA2B,EAE3B,uBAAuBW,GACnBrB,KAAKqB,gBAAkBA,EAG3B,uBAAuBG,GACnBxB,KAAKwB,gBAAkBA,EAGJ,0BAEnB,IAAIqU,EAAc5W,OAAO6J,aAAaM,QAAQ,yBAC9C,OAAIyM,EACOC,OAAOD,GAGX,GAGY,wBAACzX,GACpBa,OAAO6J,aAAaE,QAAQ,wBAAyB5K,EAAM2X,YAGxC,0BAEnB,IAAIF,EAAc5W,OAAO6J,aAAaM,QAAQ,yBAC9C,OAAIyM,EACOC,OAAOD,GAGX,GAGY,wBAACzX,GACpBa,OAAO6J,aAAaE,QAAQ,wBAAyB5K,EAAM2X,YAOlD,gBACT/V,KAAKY,WAAa,IAAI,GAAqB,sBAC3CZ,KAAKY,WAAWiT,QAGpB,YACQ7T,KAAKY,YACLZ,KAAKY,WAAWkT,SAvDP,GAAI,gBAbxB,eAAU,CACPpG,WAAY,CACRsI,YAAa,EACbC,YAAa,GACbC,YAAa,GACbC,YAAa,GACbC,cAAe,GACfC,aAAc,GACdC,eAAgB,GAChBC,WAAY,iBACZC,KAAM,eAGO,cClF4X,MCO7Y,GAAY,eACd,GACA1W,EACA2B,GACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI1B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAK,aAAa,CAACH,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,aAAa,KAAO,WAAW,CAACH,EAAG,gBAAgB,IAAI,IAC/O,GAAkB,GCYtB,IAAqB,GAArB,cAA0C,eAArB,GAAY,gBADhC,eAAU,KACU,cCb2X,MCQ5Y,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCVf,MAAMsW,GAAsE,oBAA3CC,SAAS7G,cAAc,KAAK8G,MAAMC,MAAwB5a,OAAOC,UAAUC,eAAeC,KAAK8C,OAAQ,YAAcjD,OAAOC,UAAUC,eAAeC,KAAK8C,OAAQ,WAEnM,GAAKwX,GAKE,CAEH,aAAII,IAAI,KACR,aAAIA,IAAI,QAER,MAAMC,EAAS,CACX,CAAEC,KAAM,IAAK1N,UAAW,KAGtB2N,EAAS,IAAI,OAAU,CACzBC,KAAMC,SAASC,SACf7Y,KAAM,UACNwY,OAAQA,IAEA,IAAI,aAAI,CAChBM,GAAI,YACJJ,OAAQA,EACRlX,OAAQuX,GAAKA,EAAE,MAKnB,EAAAxT,EAAMyT,aAAarL,SAAS4K,IAAI5K,IAE5BsL,GAAStL,EAAS1Q,MACX0Q,IAGX,sBA/BcyK,SAASc,eAAe,WAAYb,MAAMc,QAAU,OACpDf,SAASc,eAAe,cAAeb,MAAMc,QAAU,QAiCzE,MAAMC,GAAY,mFAElB,SAASH,GAAShc,GAEd,GAAIA,aAAgBoc,MAChB,IAAK,MAAMC,KAAQrc,EACfgc,GAASK,QAGb,IAAK,MAAM9Y,KAAYvD,EAAM,CACzB,MAAM6C,EAAQ7C,EAAKuD,GAEE,kBAAVV,EACHsZ,GAAUG,KAAKzZ,KACf7C,EAAKuD,GAAY,IAAIgZ,KAAK1Z,IAG9BmZ,GAASnZ,M,kCChEzB,W","file":"js/app.ff357c64.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"fill hfillpanel\"},[_c('el-header',{attrs:{\"height\":\"35\"}},[_c('h1',[_c('a',{attrs:{\"href\":\"https://github.com/rnwood/smtp4dev/\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"height\":\"35\",\"src\":\"logo.png\",\"alt\":\"smtp4dev\"}})])]),_c('el-button',{staticStyle:{\"float\":\"right\",\"font-size\":\"1.7em\",\"padding\":\"6px\",\"margin\":\"0 3px\"},attrs:{\"circle\":\"\",\"icon\":\"el-icon-setting\",\"title\":\"Settings\"},on:{\"click\":function($event){_vm.settingsVisible = true}}}),_vm._v(\" \"),_c('hubconnstatus',{staticStyle:{\"float\":\"right\"},attrs:{\"connection\":_vm.connection}}),_c('serverstatus',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.connection && _vm.connection.connected),expression:\"connection && connection.connected\"}],staticStyle:{\"float\":\"right\"},attrs:{\"connection\":_vm.connection}})],1),_c('settingsdialog',{attrs:{\"visible\":_vm.settingsVisible,\"connection\":_vm.connection},on:{\"closed\":function($event){_vm.settingsVisible = false}}}),_c('el-main',{staticClass:\"fill vfillpanel\"},[_c('el-tabs',{staticClass:\"fill\",attrs:{\"id\":\"maintabs\",\"value\":\"messages\",\"type\":\"border-card\"}},[_c('el-tab-pane',{staticClass:\"vfillpanel\",attrs:{\"label\":\"Messages\",\"name\":\"messages\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-message\"}),_vm._v(\" Messages \")]),_c('splitpanes',{staticClass:\"default-theme fill\",on:{\"resize\":function($event){_vm.messageListPaneSize = $event[0].size}}},[_c('pane',{staticClass:\"hfillpanel\",attrs:{\"size\":_vm.messageListPaneSize}},[_c('messagelist',{staticClass:\"fill\",attrs:{\"connection\":_vm.connection},on:{\"selected-message-changed\":_vm.selectedMessageChanged}})],1),_c('pane',{staticClass:\"hfillpanel\",attrs:{\"size\":100-_vm.messageListPaneSize}},[_c('messageview',{staticClass:\"fill\",attrs:{\"message-summary\":_vm.selectedMessage}})],1)],1)],1),_c('el-tab-pane',{staticClass:\"vfillpanel\",attrs:{\"label\":\"Sessions\",\"name\":\"sessions\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-monitor\"}),_vm._v(\" Sessions \")]),_c('splitpanes',{staticClass:\"default-theme fill\",on:{\"resize\":function($event){_vm.sessionListPaneSize = $event[0].size}}},[_c('pane',{staticClass:\"vfillpanel\",attrs:{\"size\":_vm.sessionListPaneSize}},[_c('sessionlist',{staticClass:\"fill\",attrs:{\"connection\":_vm.connection},on:{\"selected-session-changed\":_vm.selectedSessionChanged}})],1),_c('pane',{staticClass:\"vfillpanel\",attrs:{\"size\":100-_vm.sessionListPaneSize}},[_c('sessionview',{staticClass:\"fill\",attrs:{\"session-summary\":_vm.selectedSession}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"messagelist\"},[_c('div',{staticClass:\"toolbar\"},[_c('confirmationdialog',{attrs:{\"always-key\":\"deleteAllMessages\",\"message\":\"Are you sure you want to delete all messages?\"},on:{\"confirm\":_vm.clear}},[_c('el-button',{attrs:{\"icon\":\"el-icon-close\",\"title\":\"Clear\"}})],1),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\",\"disabled\":!_vm.selectedmessage,\"title\":\"Delete\"},on:{\"click\":_vm.deleteSelected}}),_c('el-button',{attrs:{\"icon\":\"el-icon-refresh\",\"disabled\":_vm.loading,\"title\":\"Refresh\"},on:{\"click\":_vm.refresh}}),_c('el-button',{attrs:{\"icon\":\"el-icon-d-arrow-right\",\"disabled\":!_vm.selectedmessage || !_vm.isRelayAvailable,\"loading\":_vm.isRelayInProgress,\"title\":\"Relay\"},on:{\"click\":_vm.relaySelected}}),_c('el-input',{staticStyle:{\"float\":\"right\",\"width\":\"35%\",\"min-width\":\"150px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"Search\",\"prefix-icon\":\"el-icon-search\"},model:{value:(_vm.searchTerm),callback:function ($$v) {_vm.searchTerm=$$v},expression:\"searchTerm\"}})],1),(_vm.error)?_c('el-alert',{attrs:{\"type\":\"error\",\"title\":\"Error\",\"show-icon\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.error.message)+\" \"),_c('el-button',{on:{\"click\":_vm.refresh}},[_vm._v(\"Retry\")])],1):_vm._e(),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"table\",staticClass:\"table\",attrs:{\"data\":_vm.filteredMessages,\"empty-text\":_vm.emptyText,\"highlight-current-row\":\"\",\"default-sort\":{prop: 'receivedDate', order: 'descending'},\"type\":\"selection\",\"reserve-selection\":\"true\",\"row-key\":\"id\",\"row-class-name\":_vm.getRowClass,\"stripe\":\"\"},on:{\"current-change\":_vm.handleCurrentChange,\"sort-change\":_vm.sort}},[_c('el-table-column',{attrs:{\"property\":\"receivedDate\",\"label\":\"Received\",\"width\":\"180\",\"sortable\":\"custom\",\"formatter\":_vm.formatDate}}),_c('el-table-column',{attrs:{\"property\":\"from\",\"label\":\"From\",\"width\":\"120\",\"sortable\":\"custom\"}}),_c('el-table-column',{attrs:{\"property\":\"to\",\"label\":\"To\",\"width\":\"120\",\"sortable\":\"custom\"}}),_c('el-table-column',{attrs:{\"property\":\"subject\",\"label\":\"Subject\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.subject)+\" \"),(scope.row.attachmentCount)?_c('i',{staticClass:\"el-icon-paperclip\",attrs:{\"title\":scope.row.attachmentCount + ' attachments'}}):_vm._e()]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nimport MessageSummary from './MessageSummary';\nimport Message from './Message';\nimport FileStreamResult from './FileStreamResult';\nimport MessageRelayOptions from './MessageRelayOptions';\nimport axios from \"axios\";\n\nexport default class MessagesController {\n               \n    constructor(){\n    }\n        \n    \n    \n    // get: api/Messages?sortColumn=${encodeURIComponent(sortColumn)}&sortIsDescending=${sortIsDescending}  \n    public getSummaries_url(sortColumn: string, sortIsDescending: boolean): string {\n        return `api/Messages?sortColumn=${encodeURIComponent(sortColumn)}&sortIsDescending=${sortIsDescending}`;\n    }\n\n    public async getSummaries(sortColumn: string, sortIsDescending: boolean): Promise<MessageSummary[]> {\n\n        return (await axios.get(this.getSummaries_url(sortColumn, sortIsDescending), null || undefined)).data as MessageSummary[];\n    }\n    \n    // get: api/Messages/${encodeURIComponent(id)}  \n    public getMessage_url(id: string): string {\n        return `api/Messages/${encodeURIComponent(id)}`;\n    }\n\n    public async getMessage(id: string): Promise<Message> {\n\n        return (await axios.get(this.getMessage_url(id), null || undefined)).data as Message;\n    }\n    \n    // post: api/Messages/${encodeURIComponent(id)}  \n    public markMessageRead_url(id: string): string {\n        return `api/Messages/${encodeURIComponent(id)}`;\n    }\n\n    public async markMessageRead(id: string): Promise<void> {\n\n        return (await axios.post(this.markMessageRead_url(id), null || undefined)).data as void;\n    }\n    \n    // get: api/Messages/${encodeURIComponent(id)}/download  \n    public downloadMessage_url(id: string): string {\n        return `api/Messages/${encodeURIComponent(id)}/download`;\n    }\n\n    public async downloadMessage(id: string): Promise<FileStreamResult> {\n\n        return (await axios.get(this.downloadMessage_url(id), null || undefined)).data as FileStreamResult;\n    }\n    \n    // post: api/Messages/${encodeURIComponent(id)}/relay  \n    public relayMessage_url(id: string): string {\n        return `api/Messages/${encodeURIComponent(id)}/relay`;\n    }\n\n    public async relayMessage(id: string, options: MessageRelayOptions): Promise<void> {\n\n        return (await axios.post(this.relayMessage_url(id), options || undefined)).data as void;\n    }\n    \n    // get: api/Messages/${encodeURIComponent(id)}/part/${encodeURIComponent(partid)}/content  \n    public getPartContent_url(id: string, partid: string): string {\n        return `api/Messages/${encodeURIComponent(id)}/part/${encodeURIComponent(partid)}/content`;\n    }\n\n    public async getPartContent(id: string, partid: string): Promise<FileStreamResult> {\n\n        return (await axios.get(this.getPartContent_url(id, partid), null || undefined)).data as FileStreamResult;\n    }\n    \n    // get: api/Messages/${encodeURIComponent(id)}/part/${encodeURIComponent(partid)}/source  \n    public getPartSource_url(id: string, partid: string): string {\n        return `api/Messages/${encodeURIComponent(id)}/part/${encodeURIComponent(partid)}/source`;\n    }\n\n    public async getPartSource(id: string, partid: string): Promise<string> {\n\n        return (await axios.get(this.getPartSource_url(id, partid), null || undefined)).data as string;\n    }\n    \n    // get: api/Messages/${encodeURIComponent(id)}/part/${encodeURIComponent(partid)}/raw  \n    public getPartSourceRaw_url(id: string, partid: string): string {\n        return `api/Messages/${encodeURIComponent(id)}/part/${encodeURIComponent(partid)}/raw`;\n    }\n\n    public async getPartSourceRaw(id: string, partid: string): Promise<string> {\n\n        return (await axios.get(this.getPartSourceRaw_url(id, partid), null || undefined)).data as string;\n    }\n    \n    // get: api/Messages/${encodeURIComponent(id)}/raw  \n    public getMessageSourceRaw_url(id: string): string {\n        return `api/Messages/${encodeURIComponent(id)}/raw`;\n    }\n\n    public async getMessageSourceRaw(id: string): Promise<string> {\n\n        return (await axios.get(this.getMessageSourceRaw_url(id), null || undefined)).data as string;\n    }\n    \n    // get: api/Messages/${encodeURIComponent(id)}/source  \n    public getMessageSource_url(id: string): string {\n        return `api/Messages/${encodeURIComponent(id)}/source`;\n    }\n\n    public async getMessageSource(id: string): Promise<string> {\n\n        return (await axios.get(this.getMessageSource_url(id), null || undefined)).data as string;\n    }\n    \n    // get: api/Messages/${encodeURIComponent(id)}/html  \n    public getMessageHtml_url(id: string): string {\n        return `api/Messages/${encodeURIComponent(id)}/html`;\n    }\n\n    public async getMessageHtml(id: string): Promise<string> {\n\n        return (await axios.get(this.getMessageHtml_url(id), null || undefined)).data as string;\n    }\n    \n    // delete: api/Messages/${encodeURIComponent(id)}  \n    public delete_url(id: string): string {\n        return `api/Messages/${encodeURIComponent(id)}`;\n    }\n\n    public async delete(id: string): Promise<void> {\n\n        return (await axios.delete(this.delete_url(id), null || undefined)).data as void;\n    }\n    \n    // delete: api/Messages/*  \n    public deleteAll_url(): string {\n        return `api/Messages/*`;\n    }\n\n    public async deleteAll(): Promise<void> {\n\n        return (await axios.delete(this.deleteAll_url(), null || undefined)).data as void;\n    }\n}","export default function sortedArraySync(source: any[], target: any[], comparer: (a:any, b:any) => boolean, updater: ((a:any, b:any) => void)|null = null) : void {\n\n    if (updater) {\n        for (const sourceItem of source) {\n            const targetItem = target.find(i => comparer(i, sourceItem));\n            if (targetItem) {\n                updater(sourceItem, targetItem);\n            }\n        }\n    }\n\n    for (const deleted of target.filter(m => source.findIndex(v => comparer(m, v)) === -1)) {\n        target.splice(target.findIndex(m => comparer(m, deleted)), 1);\n    }\n\n    for (const added of source.filter(m => target.findIndex(v => comparer(m, v)) === -1)) {\n        target.splice(source.findIndex(m => comparer(m, added)), 0, added);\n    }\n\n}","import MessageSummary from \"./ApiClient/MessageSummary\";\nimport { debounce } from 'ts-debounce';\n\nexport default class MessageNotificationManager {\n    constructor(onClick: (message: MessageSummary) => void) {\n        if (Notification.permission == \"default\") {\n            Notification.requestPermission();\n        }\n        this.onClick = onClick;\n    }\n\n    private lastNotifiedMessage: MessageSummary | null = null;\n    private onClick: (message: MessageSummary) => void;\n    private visibleNotificationCloseTimeout: any | null = null;\n    private currentNotification: Notification | null = null;\n\n    setInitialMessages(messages: MessageSummary[]) {\n        const messagesByDate = this.sortMessages(messages);\n        this.lastNotifiedMessage = messagesByDate[messagesByDate.length - 1];\n    }\n\n    notifyMessages(messages: MessageSummary[]) {\n\n        this.updateNotificationsDebounced(messages);\n    }\n\n    private updateNotificationsDebounced = debounce(this.updateNotifications, 500);\n\n    private updateNotifications(messages: MessageSummary[]) {\n        //Sort by something stable. Multiple messages may be received at same instant so use id as secondary\n        const messagesByDate = this.sortMessages(messages);\n        let unnotifiedMessages: MessageSummary[];\n        if (!this.lastNotifiedMessage) {\n            unnotifiedMessages = messagesByDate;\n        }\n        else {\n            const indexOfLastNotifiedMessage = messagesByDate.indexOf(this.lastNotifiedMessage);\n            if (indexOfLastNotifiedMessage != -1) {\n                unnotifiedMessages = messagesByDate.slice(indexOfLastNotifiedMessage + 1);\n            }\n            else {\n                unnotifiedMessages = messagesByDate;\n            }\n        }\n        if (unnotifiedMessages.length) {\n\n            unnotifiedMessages.reverse();\n\n            if (Notification.permission != \"granted\") {\n                //Ensure that if notification permission is granted later on, existing messages are treated as already notified.\n                this.lastNotifiedMessage = unnotifiedMessages[0];\n            }\n            else {\n                if (this.visibleNotificationCloseTimeout) {\n                    clearTimeout(this.visibleNotificationCloseTimeout);\n                }\n\n                const notification = this.currentNotification = new Notification(\"smtp4dev: \" + unnotifiedMessages.length + \" new message(s) received.\", {\n                    body: unnotifiedMessages.slice(0, 5).map(m => \"From: \" + m.from + \" - \" + m.subject).join(\"\\n\") + (unnotifiedMessages.length > 5 ? \"...\" : \"\"),\n                    tag: \"newmessages\",\n                    renotify: true,\n                    silent: (!!this.currentNotification),\n                    requireInteraction: false\n                });\n                notification.onclick = () => {\n                    this.onClick(unnotifiedMessages[0]);\n                };\n                notification.onclose = () => {\n                    if (notification === this.currentNotification) {\n                        this.currentNotification = null;\n                        this.lastNotifiedMessage = unnotifiedMessages[0];\n                    }\n                };\n                this.visibleNotificationCloseTimeout = setTimeout(() => {\n                    if (notification === this.currentNotification) {\n                        this.currentNotification.close();\n                    }\n                }, 10000);\n            }\n        }\n    }\n\n    private sortMessages(messages: MessageSummary[]) {\n        const messagesByDate = messages.slice(0, messages.length);\n        messagesByDate.sort((m1, m2) => {\n            if (m1.receivedDate == m2.receivedDate) {\n                if (m1.id > m2.id) {\n                    return 1;\n                }\n                else {\n                    return -1;\n                }\n            }\n            else if (m1.receivedDate > m2.receivedDate) {\n                return 1;\n            }\n            else {\n                return -1;\n            }\n        });\n        return messagesByDate;\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-popover',{attrs:{\"placement\":\"bottom\",\"width\":\"160\",\"trigger\":\"manual\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('p',[_vm._v(_vm._s(_vm.message))]),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.cancel()}}},[_vm._v(\"cancel\")]),(_vm.alwaysIsAvailable())?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.confirm(true)}}},[_vm._v(\"always\")]):_vm._e(),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.confirm(false)}}},[_vm._v(\"confirm\")])],1),_vm._t(\"default\",null,{\"slot\":\"reference\"})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop } from 'vue-property-decorator';\nimport Vue from 'vue'\n\n@Component\nexport default class ConfirmationDialog extends Vue {\n    constructor() {\n        super();\n    }\n\n    mounted() {\n        if (this.$slots.default && this.$slots.default.length > 0 && this.$slots.default[0].componentInstance) {\n            this.$slots.default[0].componentInstance.$on(\"click\", this.getConfirmation);\n\n            //Get rid of the intermediate <span> which breaks styling;\n            if (this.$el.parentElement) {\n                var parent = this.$el.parentElement;\n                parent.insertBefore(this.$slots.default[0].componentInstance.$el, this.$el)\n                parent.removeChild(this.$el);\n            }\n        }\n    }\n\n    @Prop({ default: \"\" })\n    message!: string;\n\n    @Prop({ default: undefined })\n    alwaysKey: string | undefined;\n\n    visible: boolean = false;\n\n\n    alwaysIsAvailable() {\n        return this.alwaysKey && window.localStorage;\n    }\n\n    cancel() {\n        this.visible = false;\n    }\n\n    confirm(always: boolean) {\n\n        if (always) {\n            window.localStorage.setItem(\"always-\" + this.alwaysKey, \"true\");\n        }\n\n        this.visible = false;\n        this.$emit(\"confirm\");\n    }\n\n    private checkReferenceVisible() {\n        if (this.visible) {\n\n            if (this.$slots.default && this.$slots.default.length > 0 && this.$slots.default[0].componentInstance) {\n                if ((<any>!this.$slots.default[0].componentInstance.$el).offsetParent) {\n                    this.visible = false;\n                }\n            }\n\n            setTimeout(this.checkReferenceVisible, 100);\n        }\n    }\n\n    private getConfirmation() {\n\n\n        if (this.alwaysIsAvailable() && window.localStorage.getItem(\"always-\" + this.alwaysKey) === \"true\") {\n            this.confirm(false);\n        } else {\n            this.visible = true;\n            setTimeout(this.checkReferenceVisible, 100);\n        }\n    }\n\n\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmationdialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmationdialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./confirmationdialog.vue?vue&type=template&id=690bec40&\"\nimport script from \"./confirmationdialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./confirmationdialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\nimport Server from './Server';\nimport axios from \"axios\";\n\nexport default class ServerController {\n               \n    constructor(){\n    }\n        \n    \n    \n    // get: api/Server  \n    public getServer_url(): string {\n        return `api/Server`;\n    }\n\n    public async getServer(): Promise<Server> {\n\n        return (await axios.get(this.getServer_url(), null || undefined)).data as Server;\n    }\n    \n    // post: api/Server  \n    public updateServer_url(): string {\n        return `api/Server`;\n    }\n\n    public async updateServer(serverUpdate: Server): Promise<void> {\n\n        return (await axios.post(this.updateServer_url(), serverUpdate || undefined)).data as void;\n    }\n}","/**\n * Sort array of objects based on another array\n */\nexport function mapOrder<T>(array: T[], order: unknown[], key: keyof T) {\n  array.sort(function(a, b) {\n    const A = a[key],\n      B = b[key];\n\n    if (order.indexOf(A) > order.indexOf(B)) {\n      return 1;\n    } else {\n      return -1;\n    }\n  });\n\n  return array;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Watch, Prop } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport { DefaultSortOptions, ElTable } from \"element-ui/types/table\";\nimport MessagesController from \"../ApiClient/MessagesController\";\nimport MessageSummary from \"../ApiClient/MessageSummary\";\nimport * as moment from 'moment';\nimport HubConnectionManager from \"../HubConnectionManager\";\nimport sortedArraySync from \"../sortedArraySync\";\nimport { Mutex } from \"async-mutex\";\nimport MessageNotificationManager from \"../MessageNotificationManager\";\nimport { debounce } from \"ts-debounce\";\n\nimport ConfirmationDialog from \"@/components/confirmationdialog.vue\";\nimport { MessageBoxInputData } from 'element-ui/types/message-box';\nimport ServerController from '../ApiClient/ServerController';\nimport { mapOrder } from '@/components/utils/mapOrder';\n\n@Component({\n    components: {\n        confirmationdialog: ConfirmationDialog\n    }\n})\nexport default class MessageList extends Vue {\n    constructor() {\n        super();\n    }\n\n    private selectedSortDescending: boolean = true;\n    private selectedSortColumn: string = \"receivedDate\";\n\n\n    @Prop({ default: null })\n    connection: HubConnectionManager | null = null;\n\n    messages: MessageSummary[] = [];\n    filteredMessages: MessageSummary[] = [];\n\n    isRelayInProgress: boolean = false;\n    isRelayAvailable: boolean = false;\n\n    emptyText: string = \"No messages\";\n    error: Error | null = null;\n    selectedmessage: MessageSummary | null = null;\n    searchTerm: string = \"\";\n    private loading: boolean = true;\n    private messageNotificationManager = new MessageNotificationManager(\n        message => {\n            this.selectMessage(message);\n            this.handleCurrentChange(message);\n        }\n    );\n\n    selectMessage(message: MessageSummary) {\n        (<ElTable>this.$refs.table).setCurrentRow(message);\n        this.handleCurrentChange(message);\n    }\n\n    handleCurrentChange(message: MessageSummary | null) {\n        this.selectedmessage = message;\n        this.$emit(\"selected-message-changed\", message);\n    }\n\n    formatDate(\n        row: number,\n        column: number,\n        cellValue: Date\n    ): string {\n        return (<any>moment)(cellValue).format(\"YYYY-MM-DD HH:mm:ss\");\n    }\n\n    getRowClass(event: { row: MessageSummary }): string {\n        return event.row.isUnread ? \"unread\" : \"read\";\n    }\n\n    async relaySelected() {\n        if (this.selectedmessage == null) {\n            return;\n        }\n\n\n        let emails: string[];\n\n        try {\n\n            let dialogResult = <MessageBoxInputData>await this.$prompt('Email address(es) to relay to (separate multiple with ,)', 'Relay Message', {\n                confirmButtonText: 'OK',\n                inputValue: this.selectedmessage.to,\n                cancelButtonText: 'Cancel',\n                inputPattern: /[^, ]+(, *[^, ]+)*/,\n                inputErrorMessage: 'Invalid email addresses'\n            });\n\n            emails = (<string>dialogResult.value).split(\",\").map(e => e.trim());\n        } catch {\n            return;\n        }\n\n        try {\n            this.isRelayInProgress = true;\n            await new MessagesController().relayMessage(this.selectedmessage.id, { overrideRecipientAddresses: emails });\n\n            this.$notify.success({ title: \"Relay Message Success\", message: \"Completed OK\" });\n        } catch (e) {\n            var message = e.response?.data?.detail ?? e.sessage;\n\n            this.$notify.error({ title: \"Relay Message Failed\", message: message });\n        } finally {\n            this.isRelayInProgress = false;\n        }\n    }\n\n    async deleteSelected() {\n        if (this.selectedmessage == null) {\n            return;\n        }\n\n        this.loading = true;\n\n        let messageToDelete = this.selectedmessage;\n\n        let nextIndex = this.filteredMessages.indexOf(messageToDelete) + 1;\n        if (nextIndex < this.filteredMessages.length) {\n            this.selectMessage(this.filteredMessages[nextIndex]);\n        }\n\n        try {\n            await new MessagesController().delete(messageToDelete.id);\n            await this.refresh();\n        } catch (e) {\n            this.$notify.error({ title: \"Delete Message Failed\", message: e.message });\n        } finally {\n            this.loading = false;\n        }\n    }\n\n    async clear() {\n        try {\n            this.loading = true;\n            await new MessagesController().deleteAll();\n            await this.refresh();\n        } catch (e) {\n            this.$notify.error({ title: \"Clear Messages Failed\", message: e.message });\n        } finally {\n            this.loading = false;\n        }\n    }\n\n    @Watch(\"searchTerm\")\n    doSearch() {\n        this.loading = true;\n        this.debouncedUpdateFilteredMessages();\n    }\n\n    debouncedUpdateFilteredMessages = debounce(this.updateFilteredMessages, 200);\n\n    updateFilteredMessages() {\n\n        try {\n            this.loading = true;\n            if (this.searchTerm) {\n                this.emptyText = \"No messages matching '\" + this.searchTerm + \"'\";\n            } else {\n                this.emptyText = \"No messages\";\n            }\n\n            sortedArraySync(\n                this.messages.filter(m => this.searchTermPredicate(m)\n                ),\n                this.filteredMessages,\n                (a: MessageSummary, b: MessageSummary) => a.id == b.id,\n                (sourceItem: MessageSummary, targetItem: MessageSummary) => {\n                    targetItem.isUnread = sourceItem.isUnread;\n                }\n            );\n            \n            const sortedMessageIds = this.messages.map(m=>m.id);\n            this.filteredMessages = mapOrder(this.filteredMessages, sortedMessageIds, 'id');\n\n            if (!this.filteredMessages.some(m => this.selectedmessage != null && m.id == this.selectedmessage.id)) {\n                this.handleCurrentChange(null);\n            }\n        } finally {\n            this.loading = false;\n        }\n    }\n\n  private searchTermPredicate(m: MessageSummary) {\n    return !this.searchTerm ||\n        m.subject.localeIndexOf(this.searchTerm, undefined, {\n          sensitivity: \"base\"\n        }) != -1 ||\n        m.to.localeIndexOf(this.searchTerm, undefined, {\n          sensitivity: \"base\"\n        }) != -1 ||\n        m.from.localeIndexOf(this.searchTerm, undefined, {\n          sensitivity: \"base\"\n        }) != -1;\n  }\n\n  private lastSort: string | null = null;\n    private lastSortDescending: boolean = false;\n    private mutex = new Mutex();\n\n    initialLoadDone = false;\n\n    async refresh(silent: boolean = false) {\n        var unlock = await this.mutex.acquire();\n\n        try {\n            this.error = null;\n            this.loading = !silent;\n\n\n            //Copy in case they are mutated during the async load below\n            let sortColumn = this.selectedSortColumn;\n            let sortDescending = this.selectedSortDescending;\n\n            let serverMessages = await new MessagesController().getSummaries(\n                sortColumn,\n                sortDescending\n            );\n\n            if (\n                !this.lastSort ||\n                this.lastSort != sortColumn ||\n                this.lastSortDescending != sortDescending ||\n                serverMessages.length == 0\n            ) {\n                this.messages.splice(0, this.messages.length, ...serverMessages);\n            } else {\n                sortedArraySync(\n                    serverMessages,\n                    this.messages,\n                    (a: MessageSummary, b: MessageSummary) => a.id == b.id,\n                    (sourceItem: MessageSummary, targetItem: MessageSummary) => {\n                        targetItem.isUnread = sourceItem.isUnread;\n                    }\n                );\n            }\n\n            if (this.initialLoadDone) {\n                this.messageNotificationManager.notifyMessages(this.messages);\n            } else {\n                this.messageNotificationManager.setInitialMessages(this.messages);\n            }\n\n            this.updateFilteredMessages();\n\n            this.initialLoadDone = true;\n            this.lastSort = sortColumn;\n            this.lastSortDescending = this.selectedSortDescending;\n\n            this.isRelayAvailable = !!await (await new ServerController().getServer()).relayOptions.smtpServer;\n        } catch (e) {\n            this.error = e;\n        } finally {\n            this.loading = false;\n            unlock();\n        }\n    }\n\n    async sort(sortOptions: DefaultSortOptions) {\n        let descending: boolean = true;\n        if (sortOptions.order === \"ascending\") {\n            descending = false;\n        }\n\n        if (\n            this.selectedSortColumn != sortOptions.prop ||\n            this.selectedSortDescending != descending\n        ) {\n            this.selectedSortColumn = sortOptions.prop || \"receivedDate\";\n            this.selectedSortDescending = descending;\n\n            await this.refresh();\n        }\n    }\n\n\n    async mounted() {\n        await this.refresh(false);\n    }\n\n    @Watch(\"connection\")\n    async onConnectionChanged() {\n\n        if (this.connection) {\n            this.connection.on(\"messageschanged\", async () => {\n                await this.refresh(true);\n            });\n            this.connection.on(\"serverchanged\", async () => {\n                await this.refresh(true);\n            });\n            this.connection.addOnConnectedCallback(() => {\n                this.refresh(true);\n            });\n        }\n    }\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messagelist.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messagelist.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./messagelist.vue?vue&type=template&id=4fd66686&\"\nimport script from \"./messagelist.vue?vue&type=script&lang=ts&\"\nexport * from \"./messagelist.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.loading),expression:\"loading\",modifiers:{\"body\":true}}],staticClass:\"messageview fill vfillpanel\"},[(_vm.error)?_c('el-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.error.message)+\" \"),_c('el-button',{on:{\"click\":_vm.loadMessage}},[_vm._v(\"Retry\")])],1):_vm._e(),(_vm.messageSummary)?_c('div',{staticClass:\"hfillpanel fill\"},[_c('div',{staticClass:\"toolbar\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-download\"},on:{\"click\":_vm.download}},[_vm._v(\"Download\")])],1),_c('div',{staticClass:\"pad\"},[_vm._l((_vm.warnings),function(warning){return _c('el-alert',{key:warning.details,attrs:{\"title\":'Warning: ' + warning.details,\"type\":\"warning\",\"show-icon\":\"\"}})}),_c('table',{staticClass:\"messageviewheader\"},[_c('tr',[_c('td',[_vm._v(\"From:\")]),_c('td',[(_vm.message)?_c('span',[_vm._v(_vm._s(_vm.message.from))]):_vm._e()])]),_c('tr',[_c('td',[_vm._v(\"To:\")]),_c('td',[(_vm.message)?_c('span',[_vm._v(_vm._s(_vm.message.to))]):_vm._e()])]),(_vm.message && _vm.message.cc)?_c('tr',[_c('td',[_vm._v(\"Cc:\")]),_c('td',[_vm._v(_vm._s(_vm.message.cc))])]):_vm._e(),(_vm.message && _vm.message.bcc)?_c('tr',[_c('td',[_vm._v(\"Bcc:\")]),_c('td',[_vm._v(_vm._s(_vm.message.bcc))])]):_vm._e(),_c('tr',[_c('td',[_vm._v(\"Subject:\")]),_c('td',[(_vm.message)?_c('span',[_vm._v(_vm._s(_vm.message.subject))]):_vm._e()])]),_c('tr',[_c('td',[_vm._v(\"Secure:\")]),_c('td',[(_vm.message)?_c('span',[_vm._v(_vm._s(_vm.message.secureConnection))]):_vm._e()])])]),(_vm.message && _vm.message.relayError)?_c('div',[_c('el-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\"Message relay error: \"+_vm._s(_vm.message.relayError))])],1):_vm._e(),(_vm.message && _vm.message.mimeParseError)?[_c('el-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\"Message parse error: \"+_vm._s(_vm.message.mimeParseError))])]:_vm._e()],2),_c('el-tabs',{staticClass:\"fill\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\"},attrs:{\"value\":\"view\",\"type\":\"border-card\"}},[_c('el-tab-pane',{staticClass:\"hfillpanel\",attrs:{\"name\":\"view\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-view\"}),_vm._v(\" View \")]),_c('messageviewattachments',{attrs:{\"message\":_vm.message}}),_c('messageview-html',{staticClass:\"fill\",attrs:{\"message\":_vm.message}})],1),_c('el-tab-pane',{staticClass:\"hfillpanel\",attrs:{\"name\":\"headers\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-notebook-2\"}),_vm._v(\" Headers \")]),_c('headers',{staticClass:\"fill\",attrs:{\"headers\":_vm.headers}})],1),_c('el-tab-pane',{staticClass:\"hfillpanel\",attrs:{\"name\":\"parts\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-document-copy\"}),_vm._v(\" Parts \")]),(_vm.message)?_c('el-tree',{ref:\"partstree\",attrs:{\"data\":_vm.message.parts,\"props\":{label: 'name', children: 'childParts', disabled: false, isLeaf: _vm.isLeaf},\"highlight-current\":\"\",\"empty-message\":\"No parts\",\"accordion\":\"\",\"node-key\":\"id\",\"default-expanded-keys\":['0']},on:{\"node-click\":_vm.onPartSelection},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('i',{class:{'el-icon-document-copy': data.childParts.length, 'el-icon-document': data.childParts.length == 0 && !data.isAttachment, 'el-icon-paperclip': data.childParts.length == 0 && data.isAttachment}}),_vm._v(\" \"+_vm._s(node.label)+\" \")])}}],null,false,1581920248)}):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedPart),expression:\"selectedPart\"}],staticClass:\"fill vfillpanel\"},[_c('el-tabs',{staticClass:\"fill hfillpanel\",attrs:{\"value\":\"headers\",\"type\":\"border-card\"}},[_c('el-tab-pane',{staticClass:\"fill vfillpanel\",attrs:{\"label\":\"Headers\",\"name\":\"headers\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-notebook-2\"}),_vm._v(\" Headers \")]),_c('headers',{staticClass:\"fill\",attrs:{\"headers\":_vm.selectedPartHeaders}})],1),_c('el-tab-pane',{staticClass:\"fill vfillpanel\",attrs:{\"label\":\"Source\",\"name\":\"source\"}},[_c('messagepartsource',{staticClass:\"fill\",attrs:{\"messageEntitySummary\":_vm.selectedPart,\"type\":\"source\"}})],1),_c('el-tab-pane',{staticClass:\"fill vfillpanel\",attrs:{\"label\":\"Raw\",\"name\":\"raw\"}},[_c('messagepartsource',{staticClass:\"fill\",attrs:{\"messageEntitySummary\":_vm.selectedPart,\"type\":\"raw\"}})],1)],1)],1),(!_vm.selectedPart)?_c('div',{staticClass:\"fill vfillpanel\"},[_c('div',{staticClass:\"fill nodetails centrecontents\"},[_c('div',[_vm._v(\"No part selected.\")])])]):_vm._e()],1),_c('el-tab-pane',{staticClass:\"fill vfillpanel\",attrs:{\"label\":\"Source\",\"name\":\"source\"}},[_c('messagesource',{staticClass:\"fill\",attrs:{\"message\":_vm.message,\"type\":\"source\"}})],1)],1)],1):_vm._e(),(!_vm.messageSummary)?_c('div',{staticClass:\"fill nodetails centrecontents\"},[_c('div',[_vm._v(\"No message selected.\")])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.headers),expression:\"headers\"}],staticClass:\"headers\"},[_c('el-table',{staticClass:\"table fill\",attrs:{\"data\":_vm.headers,\"empty-text\":\"No headers\",\"default-sort\":{prop: 'name', order: 'ascending'},\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"property\":\"name\",\"label\":\"Name\",\"width\":\"150\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"property\":\"value\",\"label\":\"Value\",\"sortable\":\"\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n    import { Component, Prop, Watch } from 'vue-property-decorator';\nimport Vue from 'vue'\nimport Header from \"../ApiClient/Header\";\n\n@Component\nexport default class Headers extends Vue {\n    constructor() {\n        super(); \n    }\n\n    @Prop({ default: [] })\n    headers!: Header[];\n\n    async destroyed() {\n        \n    }\n\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./headers.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./headers.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./headers.vue?vue&type=template&id=fc917b5a&\"\nimport script from \"./headers.vue?vue&type=script&lang=ts&\"\nexport * from \"./headers.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(!_vm.html),expression:\"!html\"}],staticClass:\"hfillpanel\"},[(_vm.error)?_c('el-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.error.message)+\" \"),_c('el-button',{on:{\"click\":_vm.loadMessage}},[_vm._v(\"Retry\")])],1):_vm._e(),_c('iframe',{ref:\"htmlframe\",staticClass:\"fill\",on:{\"load\":_vm.onHtmlFrameLoaded}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Watch } from 'vue-property-decorator'\nimport Vue from 'vue'\nimport MessagesController from \"../ApiClient/MessagesController\";\nimport Message from \"../ApiClient/Message\";\nimport * as srcDoc from 'srcdoc-polyfill';\n\n@Component\nexport default class MessageViewHtml extends Vue {\n    constructor() {\n        super();\n    }\n\n    @Prop({ default: null })\n    message: Message | null = null;\n    html: string | null = null;\n\n\n    error: Error | null = null;\n    loading = false;\n\n    @Watch(\"message\")\n    async onMessageChanged(value: Message | null, oldValue: Message | null) {\n\n        await this.loadMessage();\n\n    }\n\n    @Watch(\"html\")\n    async onHtmlChanged(value: string) {\n        srcDoc.set(<HTMLIFrameElement>this.$refs.htmlframe, value);\n    }\n\n    async onHtmlFrameLoaded() {\n        var doc = (<HTMLIFrameElement>this.$refs.htmlframe).contentDocument;\n        if (!doc) {\n            return;\n        }\n\n        var baseElement = doc.body.querySelector(\"base\") || doc.createElement(\"base\");\n        baseElement.setAttribute(\"target\", \"_blank\");\n\n        doc.body.appendChild(baseElement);\n    }\n\n    async loadMessage() {\n\n        this.error = null;\n        this.loading = true;\n        this.html = null;\n\n        try {\n            if (this.message != null) {\n\n                this.html = await new MessagesController().getMessageHtml(this.message.id);\n            }\n        } catch (e) {\n            this.error = e;\n        } finally {\n            this.loading = false;\n        }\n    }\n\n    async created() {\n\n        this.loadMessage();\n    }\n\n    async destroyed() {\n\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageviewhtml.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageviewhtml.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./messageviewhtml.vue?vue&type=template&id=0bef2bee&\"\nimport script from \"./messageviewhtml.vue?vue&type=script&lang=ts&\"\nexport * from \"./messageviewhtml.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.attachments),expression:\"attachments\"}],staticClass:\"vfillpanel pad\"},_vm._l((_vm.attachments),function(attachment){return _c('div',{key:attachment.id},[_c('el-button',{attrs:{\"icon\":\"el-icon-paperclip\",\"size\":\"small\",\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){return _vm.openAttachment(attachment)}}},[_vm._v(_vm._s(attachment.fileName))])],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n    import { Component, Prop, Watch } from 'vue-property-decorator'\nimport Vue from 'vue'\nimport MessagesController from \"../ApiClient/MessagesController\";\nimport Message from \"../ApiClient/Message\";\nimport AttachmentSummary from \"../ApiClient/AttachmentSummary\";\nimport MessageEntitySummary from \"../ApiClient/MessageEntitySummary\";\n\n@Component\nexport default class MessageViewAttachments extends Vue {\n    constructor() {\n        super();\n    }\n\n    @Prop({ default: null })\n    message: Message | null = null;\n    attachments: AttachmentSummary[] | null = null;\n\n\n    @Watch(\"message\")\n    async onMessageChanged(value: Message | null, oldValue: Message | null) {\n\n        await this.setAttachments();\n    }\n\n    async setAttachments() {\n        var result: AttachmentSummary[] = [];\n\n        if (this.message != null) {\n\n            var parts = this.message.parts\n            this.getAttachments(parts, result);\n\n        }\n        this.attachments = result;\n    }\n\n    getAttachments(parts: MessageEntitySummary[], result: AttachmentSummary[]) {\n        for (let part of parts) {\n            for (let attachment of part.attachments) {\n                result.push(attachment);\n            }\n\n            this.getAttachments(part.childParts, result);\n        }\n    }\n\n    openAttachment(attachment: AttachmentSummary) {\n        window.open(attachment.url);\n    }\n\n    async created() {\n\n        await this.setAttachments();\n    }\n\n    async destroyed() {\n\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageviewattachments.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageviewattachments.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./messageviewattachments.vue?vue&type=template&id=53af5e14&\"\nimport script from \"./messageviewattachments.vue?vue&type=script&lang=ts&\"\nexport * from \"./messageviewattachments.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"hfillpanel\"},[(_vm.error)?_c('el-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.error.message)+\" \"),_c('el-button',{on:{\"click\":_vm.loadMessage}},[_vm._v(\"Retry\")])],1):_vm._e(),_c('div',{staticClass:\"toolbar\"},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-document\"},on:{\"click\":_vm.download}},[_vm._v(\"Open\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.source),expression:\"source\"}],staticClass:\"vfillpanel fill\"},[_c('textview',{staticClass:\"fill\",attrs:{\"text\":_vm.source}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('aceeditor',{attrs:{\"lang\":\"text\",\"theme\":\"chrome\",\"width\":\"100%\",\"height\":\"100%\"},on:{\"init\":_vm.editorInit},model:{value:(_vm.textToShow),callback:function ($$v) {_vm.textToShow=$$v},expression:\"textToShow\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport { Component, Prop } from 'vue-property-decorator';\nimport Vue from 'vue'\nimport AceEditor from 'vue2-ace-editor';\nimport { Editor } from 'brace';\n\n@Component({\n    components: {\n        aceeditor: AceEditor\n    }\n}\n)\nexport default class TextView extends Vue {\n    constructor() {\n        super();\n    }\n\n    @Prop()\n    text: string | null = null;\n\n    editorInit(brace: Editor) {\n        require('brace/ext/language_tools') //language extension prerequsite...\n        require('brace/mode/text')\n        require('brace/theme/chrome')\n        require('brace/snippets/javascript') //snippet\n\n        brace.setReadOnly(true);\n    }\n\n    get textToShow() {\n        if (!this.text) {\n            return \"\";\n        }\n\n        return this.text;\n    }\n\n    set textToShow(value: string) {\n        //ignore\n    }\n\n    async destroyed() {\n\n    }\n\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./textview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./textview.vue?vue&type=template&id=3a7b482c&\"\nimport script from \"./textview.vue?vue&type=script&lang=ts&\"\nexport * from \"./textview.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    import { Component, Prop, Watch } from 'vue-property-decorator'\n    import Vue from 'vue'\n    import MessagesController from \"../ApiClient/MessagesController\";\n    import MessageEntitySummary from \"../ApiClient/MessageEntitySummary\";\n    import TextView from \"@/components/textview.vue\";\n\n    @Component({\n        components: {\n            textview: TextView\n        }\n    })\nexport default class MessagePartSource extends Vue {\n                    constructor() {\n                    super();\n            }\n\n            @Prop()\n            messageEntitySummary: MessageEntitySummary | null = null;\n\n            source: string | null = null;\n            sourceurl: string | null = null;\n            error: Error | null = null;\n            loading = false;\n\n    @Prop({ default: \"source\" } )\n                type!: \"source\" | \"raw\";\n\n                @Watch(\"messageEntitySummary\")\n    async onMessageEntitySummaryChanged(value: MessageEntitySummary, oldValue: MessageEntitySummary) {\n\n                    await this.loadMessage();\n\n            }\n\n    download() {\n        if (this.sourceurl) {\n                    window.open(this.sourceurl);\n            }\n        }\n\n    async loadMessage() {\n\n                    this.error = null;\n                this.loading = true;\n                this.source = null;\n                this.sourceurl = null;\n\n        try {\n            if (this.messageEntitySummary != null) {\n                if (this.type === \"raw\") {\n                    this.sourceurl = new MessagesController().getPartSourceRaw_url(this.messageEntitySummary.messageId, this.messageEntitySummary.id);\n                this.source = await new MessagesController().getPartSourceRaw(this.messageEntitySummary.messageId, this.messageEntitySummary.id);\n\n                } else {\n                    this.sourceurl = new MessagesController().getPartSource_url(this.messageEntitySummary.messageId, this.messageEntitySummary.id);\n                this.source = await new MessagesController().getPartSource(this.messageEntitySummary.messageId, this.messageEntitySummary.id);\n\n            }\n        }\n        } catch (e) {\n                    this.error = e;\n        } finally {\n                    this.loading = false;\n            }\n        }\n\n    async created() {\n                    this.loadMessage();\n            }\n\n    async destroyed() {\n\n                }\n                }\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messagepartsource.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messagepartsource.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./messagepartsource.vue?vue&type=template&id=6e60cec4&\"\nimport script from \"./messagepartsource.vue?vue&type=script&lang=ts&\"\nexport * from \"./messagepartsource.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"hfillpanel\"},[(_vm.error)?_c('el-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.error.message)+\" \"),_c('el-button',{on:{\"click\":_vm.loadMessage}},[_vm._v(\"Retry\")])],1):_vm._e(),_c('div',{staticClass:\"toolbar\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.download}},[_vm._v(\"Open\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.source),expression:\"source\"}],staticClass:\"vfillpanel fill\"},[_c('textview',{staticClass:\"fill\",attrs:{\"text\":_vm.source}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Watch } from 'vue-property-decorator'\nimport Vue from 'vue'\nimport MessagesController from \"../ApiClient/MessagesController\";\nimport Message from \"../ApiClient/Message\";\nimport TextView from \"@/components/textview.vue\";\n\n@Component({\n    components: {\n        textview: TextView\n    }\n})\nexport default class MessagePartSource extends Vue {\n    constructor() {\n        super();\n    }\n\n    @Prop()\n    message: Message | null = null;\n\n    source: string | null = null;\n    sourceurl: string | null = null;\n    error: Error | null = null;\n    loading = false;\n\n    @Prop({ default: \"source\" })\n    type!: \"source\" | \"raw\";\n\n    @Watch(\"message\")\n    async onMessageChanged(value: Message, oldValue: Message) {\n\n        await this.loadMessage();\n\n    }\n\n    download() {\n        if (this.sourceurl) {\n            window.open(this.sourceurl);\n        }\n    }\n\n    async loadMessage() {\n\n        this.error = null;\n        this.loading = true;\n        this.source = null;\n        this.sourceurl = null;\n\n        try {\n            if (this.message != null) {\n                if (this.type === \"raw\") {\n                    this.sourceurl = new MessagesController().getMessageSourceRaw_url(this.message.id);\n                    this.source = await new MessagesController().getMessageSourceRaw(this.message.id);\n\n                } else {\n                    this.sourceurl = new MessagesController().getMessageSource_url(this.message.id);\n                    this.source = await new MessagesController().getMessageSourceRaw(this.message.id);\n\n                }\n            }\n        } catch (e) {\n            this.error = e;\n        } finally {\n            this.loading = false;\n        }\n    }\n\n    async created() {\n        this.loadMessage();\n    }\n\n    async destroyed() {\n\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messagesource.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messagesource.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./messagesource.vue?vue&type=template&id=651a29f5&\"\nimport script from \"./messagesource.vue?vue&type=script&lang=ts&\"\nexport * from \"./messagesource.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport MessagesController from \"../ApiClient/MessagesController\";\nimport MessageSummary from \"../ApiClient/MessageSummary\";\nimport Message from \"../ApiClient/Message\";\nimport MessageEntitySummary from \"../ApiClient/MessageEntitySummary\";\nimport MessageWarning from \"../ApiClient/MessageWarning\";\nimport Headers from \"@/components/headers.vue\";\nimport MessageViewHtml from \"@/components/messageviewhtml.vue\";\nimport MessageviewAttachments from \"@/components/messageviewattachments.vue\";\nimport MessagePartsSource from \"@/components/messagepartsource.vue\";\nimport MessageSource from \"@/components/messagesource.vue\";\nimport { Tree } from \"element-ui\";\n\n@Component({\n    components: {\n        headers: Headers,\n        \"messageview-html\": MessageViewHtml,\n        messageviewattachments: MessageviewAttachments,\n        messagepartsource: MessagePartsSource,\n        messagesource: MessageSource\n    }\n})\nexport default class MessageView extends Vue {\n    constructor() {\n        super();\n    }\n\n    @Prop({})\n    messageSummary: MessageSummary | null = null;\n    message: Message | null = null;\n    selectedPart: MessageEntitySummary | null = null;\n    warnings: MessageWarning[] = [];\n\n    error: Error | null = null;\n    loading = false;\n\n    @Watch(\"messageSummary\")\n    async onMessageSummaryChange(\n        value: MessageSummary | null,\n        oldValue: MessageSummary | null\n    ) {\n        await this.loadMessage();\n    }\n\n    async loadMessage() {\n        this.error = null;\n        this.loading = true;\n        this.message = null;\n        this.selectedPart = null;\n\n        try {\n            if (this.messageSummary != null) {\n                this.message = await new MessagesController().getMessage(\n                    this.messageSummary.id\n                );\n                if (this.$refs.partstree) {\n                    (<Tree>this.$refs.partstree).setCurrentNode(\n                        (<Tree>this.$refs.partstree).getNode(0)\n                    );\n                }\n                this.setWarnings();\n\n                if (this.messageSummary.isUnread) {\n                    var currentMessageSummary = this.messageSummary;\n                    setTimeout(async () => {\n                        if (\n                            this.messageSummary != null &&\n                            currentMessageSummary.id == this.messageSummary.id\n                        ) {\n                            try {\n                                await new MessagesController().markMessageRead(\n                                    this.messageSummary.id\n                                );\n                            } catch (e) {\n                                console.error(e);\n                            }\n                        }\n                    }, 2000);\n                }\n            }\n        } catch (e) {\n            this.error = e;\n        } finally {\n            this.loading = false;\n        }\n    }\n\n    async setWarnings() {\n        var result: MessageWarning[] = [];\n\n        if (this.message != null) {\n            var parts = this.message.parts;\n            this.getWarnings(parts, result);\n        }\n        this.warnings = result;\n    }\n\n    getWarnings(parts: MessageEntitySummary[], result: MessageWarning[]) {\n        for (let part of parts) {\n            for (let warning of part.warnings) {\n                result.push(warning);\n            }\n\n            this.getWarnings(part.childParts, result);\n        }\n    }\n\n    isLeaf(value: MessageEntitySummary[] | MessageEntitySummary) {\n        return (\n            !(value as MessageEntitySummary[]).length &&\n            !(value as MessageEntitySummary).childParts.length\n        );\n    }\n\n    onPartSelection(part: MessageEntitySummary | null) {\n        this.selectedPart = part;\n    }\n\n    async download() {\n        if (this.messageSummary == null) {\n            return;\n        }\n        window.open(\n            new MessagesController().downloadMessage_url(this.messageSummary.id)\n        );\n    }\n\n    async mounted() {\n        await this.loadMessage();\n    }\n\n    async destroyed() { }\n\n    get headers() {\n        return this.message != null ? this.message.headers : [];\n    }\n\n    get selectedPartHeaders() {\n        return this.selectedPart != null ? this.selectedPart.headers : [];\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./messageview.vue?vue&type=template&id=41287584&\"\nimport script from \"./messageview.vue?vue&type=script&lang=ts&\"\nexport * from \"./messageview.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sessionlist\"},[_c('div',{staticClass:\"toolbar\"},[_c('confirmationdialog',{attrs:{\"always-key\":\"deleteAllSessions\",\"message\":\"Are you sure you want to delete all sessions?\"},on:{\"confirm\":_vm.clear}},[_c('el-button',{attrs:{\"icon\":\"el-icon-close\",\"title\":\"Clear\"}})],1),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\",\"disabled\":!_vm.selectedsession,\"title\":\"Delete\"},on:{\"click\":_vm.deleteSelected}}),_c('el-button',{attrs:{\"icon\":\"el-icon-refresh\",\"disabled\":_vm.loading,\"title\":\"Refresh\"},on:{\"click\":_vm.refresh}})],1),(_vm.error)?_c('el-alert',{attrs:{\"type\":\"error\",\"title\":\"Error\",\"show-icon\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.error.message)+\" \"),_c('el-button',{on:{\"click\":_vm.refresh}},[_vm._v(\"Retry\")])],1):_vm._e(),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"table\",staticClass:\"table\",attrs:{\"data\":_vm.sessions,\"empty-text\":\"No sessions\",\"highlight-current-row\":\"\",\"default-sort\":{prop: 'endDate', order: 'descending'},\"type\":\"selection\",\"reserve-selection\":\"true\",\"row-key\":\"id\",\"stripe\":\"\"},on:{\"current-change\":_vm.handleCurrentChange}},[_c('el-table-column',{attrs:{\"property\":\"endDate\",\"label\":\"End Date\",\"width\":\"120\",\"sortable\":\"\",\"formatter\":_vm.formatDate}}),_c('el-table-column',{attrs:{\"property\":\"clientAddress\",\"label\":\"Client Address\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"property\":\"numberOfMessages\",\"label\":\"# Msgs\",\"width\":\"120\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.terminatedWithError)?_c('i',{staticClass:\"el-icon-warning\",attrs:{\"title\":\"This session terminated abnormally\"}}):_vm._e(),_vm._v(\" \"+_vm._s(scope.row.numberOfMessages)+\" \")]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nimport SessionSummary from './SessionSummary';\nimport Session from './Session';\nimport axios from \"axios\";\n\nexport default class SessionsController {\n               \n    constructor(){\n    }\n        \n    \n    \n    // get: api/Sessions  \n    public getSummaries_url(): string {\n        return `api/Sessions`;\n    }\n\n    public async getSummaries(): Promise<SessionSummary[]> {\n\n        return (await axios.get(this.getSummaries_url(), null || undefined)).data as SessionSummary[];\n    }\n    \n    // get: api/Sessions/${encodeURIComponent(id)}  \n    public getSession_url(id: string): string {\n        return `api/Sessions/${encodeURIComponent(id)}`;\n    }\n\n    public async getSession(id: string): Promise<Session> {\n\n        return (await axios.get(this.getSession_url(id), null || undefined)).data as Session;\n    }\n    \n    // get: api/Sessions/${encodeURIComponent(id)}/log  \n    public getSessionLog_url(id: string): string {\n        return `api/Sessions/${encodeURIComponent(id)}/log`;\n    }\n\n    public async getSessionLog(id: string): Promise<string> {\n\n        return (await axios.get(this.getSessionLog_url(id), null || undefined)).data as string;\n    }\n    \n    // delete: api/Sessions/${encodeURIComponent(id)}  \n    public delete_url(id: string): string {\n        return `api/Sessions/${encodeURIComponent(id)}`;\n    }\n\n    public async delete(id: string): Promise<void> {\n\n        return (await axios.delete(this.delete_url(id), null || undefined)).data as void;\n    }\n    \n    // delete: api/Sessions/*  \n    public deleteAll_url(): string {\n        return `api/Sessions/*`;\n    }\n\n    public async deleteAll(): Promise<void> {\n\n        return (await axios.delete(this.deleteAll_url(), null || undefined)).data as void;\n    }\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport SessionsController from \"../ApiClient/SessionsController\";\nimport SessionSummary from \"../ApiClient/SessionSummary\";\nimport * as moment from \"moment\";\nimport HubConnectionManager from \"../HubConnectionManager\";\nimport sortedArraySync from \"../sortedArraySync\";\nimport { Mutex } from \"async-mutex\";\nimport ConfirmationDialog from \"@/components/confirmationdialog.vue\";\nimport { ElTable } from \"element-ui/types/table\";\n\n@Component({\n    components: {\n        confirmationdialog: ConfirmationDialog\n    }\n})\nexport default class SessionList extends Vue {\n    constructor() {\n        super();\n    }\n\n\n    @Prop({default: null})\n    connection: HubConnectionManager | null = null;\n\n    sessions: SessionSummary[] = [];\n    error: Error | null = null;\n    selectedsession: SessionSummary | null = null;\n    loading: boolean = true;\n    private mutex = new Mutex();\n\n    handleCurrentChange(session: SessionSummary | null): void {\n        this.selectedsession = session;\n        this.$emit(\"selected-session-changed\", session);\n    }\n\n    formatDate(\n        row: number,\n        column: number,\n        cellValue: Date,\n        index: number\n    ): string {\n        return (<any>moment)(cellValue).format(\"YYYY-MM-DD HH:mm:ss\");\n    }\n\n    selectSession(session: SessionSummary) {\n        (<ElTable>this.$refs.table).setCurrentRow(session);\n        this.handleCurrentChange(session);\n    }\n\n    async deleteSelected() {\n        if (this.selectedsession == null) {\n            return;\n        }\n\n        this.loading = true;\n        let sessionToDelete = this.selectedsession;\n\n        let nextIndex = this.sessions.indexOf(sessionToDelete) - 1;\n        if (nextIndex >= 0) {\n            this.selectSession(this.sessions[nextIndex]);\n        }\n\n        try {\n            await new SessionsController().delete(sessionToDelete.id);\n            this.refresh();\n        } catch (e) {\n            this.$notify.error({ title: \"Delete Session Failed\", message: e.message });\n        } finally {\n            this.loading = false;\n        }\n    }\n\n    async clear() {\n        this.loading = true;\n        try {\n            await new SessionsController().deleteAll();\n            this.refresh();\n        } catch (e) {\n            this.$notify.error({ title: \"Clear Sessions Failed\", message: e.message });\n        } finally {\n            this.loading = false;\n        }\n    }\n\n    async refresh(silent: boolean=false) {\n        var unlock = await this.mutex.acquire();\n\n        try {\n            this.error = null;\n            this.loading = !silent;\n\n            var newSessions = await new SessionsController().getSummaries();\n            sortedArraySync(\n                newSessions,\n                this.sessions,\n                (a: SessionSummary, b: SessionSummary) => a.id == b.id\n            );\n\n            if (\n                !this.sessions.some(\n                    m => this.selectedsession != null && m.id == this.selectedsession.id\n                )\n            ) {\n                this.handleCurrentChange(null);\n            }\n        } catch (e) {\n            this.error = e;\n        } finally {\n            this.loading = false;\n            unlock();\n        }\n    }\n\n    async mounted() {\n        this.refresh(false);\n    }\n    \n    @Watch(\"connection\")\n    async onConnectionChanged() {\n        if (this.connection) {\n            this.connection.on(\"sessionschanged\", () => {\n                this.refresh(true);\n            });\n            this.connection.addOnConnectedCallback(() => this.refresh(true));\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sessionlist.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sessionlist.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./sessionlist.vue?vue&type=template&id=6eb691ea&\"\nimport script from \"./sessionlist.vue?vue&type=script&lang=ts&\"\nexport * from \"./sessionlist.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.loading),expression:\"loading\",modifiers:{\"body\":true}}],staticClass:\"sessionview fill vfillpanel\"},[(_vm.error)?_c('el-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.error.message)+\" \"),_c('el-button',{on:{\"click\":_vm.loadMessage}},[_vm._v(\"Retry\")])],1):_vm._e(),(_vm.error)?_c('div',{staticClass:\"hfillpanel fill\"}):_vm._e(),(_vm.sessionSummary)?_c('div',{staticClass:\"hfillpanel fill\"},[(_vm.session && _vm.session.error)?_c('el-alert',{attrs:{\"type\":\"warning\",\"show-icon\":\"\",\"title\":\"This session terminated abnormally\"}},[_vm._v(_vm._s(_vm.session.error))]):_vm._e(),_c('el-tabs',{staticClass:\"fill\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\"},attrs:{\"value\":\"log\",\"type\":\"border-card\"}},[_c('el-tab-pane',{staticClass:\"hfillpanel\",attrs:{\"name\":\"log\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-notebook-2\"}),_vm._v(\" Log \")]),_c('div',{staticClass:\"toolbar\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.download}},[_vm._v(\"Open\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.log),expression:\"log\"}],staticClass:\"vfillpanel fill\"},[_c('textview',{staticClass:\"fill\",attrs:{\"text\":_vm.log}})],1)])],1)],1):_vm._e(),(!_vm.sessionSummary)?_c('div',{staticClass:\"fill nodetails centrecontents\"},[_c('div',[_vm._v(\"No session selected\")])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport SessionsController from \"../ApiClient/SessionsController\";\nimport SessionSummary from \"../ApiClient/SessionSummary\";\nimport Session from \"../ApiClient/Session\";\nimport TextView from \"@/components/textview.vue\";\n\n@Component({\n  components: {\n    textview: TextView\n  }\n})\nexport default class SessionView extends Vue {\n  constructor() {\n    super();\n  }\n\n  @Prop({})\n  sessionSummary: SessionSummary | null = null;\n  session: Session | null = null;\n  log: string | null = null;\n\n  error: Error | null = null;\n  loading = false;\n\n  @Watch(\"sessionSummary\")\n  async onMessageChanged(\n    value: SessionSummary | null,\n    oldValue: SessionSummary | null\n  ) {\n    await this.loadSession();\n  }\n\n  download() {\n    if (this.sessionSummary) {\n      window.open(\n        new SessionsController().getSessionLog_url(this.sessionSummary.id)\n      );\n    }\n  }\n\n  async loadSession() {\n    this.error = null;\n    this.loading = true;\n    this.session = null;\n    this.log = null;\n\n    try {\n      if (this.sessionSummary != null) {\n        this.session = await new SessionsController().getSession(\n          this.sessionSummary.id\n        );\n        this.log = await new SessionsController().getSessionLog(\n          this.sessionSummary.id\n        );\n      }\n    } catch (e) {\n      this.error = e;\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async created() {}\n\n  async destroyed() {}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sessionview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sessionview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./sessionview.vue?vue&type=template&id=37684ee1&\"\nimport script from \"./sessionview.vue?vue&type=script&lang=ts&\"\nexport * from \"./sessionview.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { HubConnection, HubConnectionBuilder, LogLevel } from '@aspnet/signalr';\n\nexport default class HubConnectionManager {\n\n    private _connection: HubConnection;\n    connected: boolean = false;\n    private connectedCallbacks: (() => void)[] = [];\n    started: boolean = false;\n    error: Error|null = null;\n\n    constructor(url: string) {\n        this._connection = new HubConnectionBuilder().withUrl(url).configureLogging(LogLevel.Trace).build();\n        this._connection.onclose(this.onConnectionClosed.bind(this));\n        //this._connection.serverTimeoutInMilliseconds = 5000;\n    }\n\n    async addOnConnectedCallback(connectedCallback: () => void) {\n\n        this.connectedCallbacks.push(connectedCallback);\n\n        if (this.connected) {\n            connectedCallback();\n        }\n    }\n\n    async start() {\n\n        if (this.started) {\n            return;\n        }\n\n        this.error = null;\n        this.started = true;\n        try {\n            await this._connection.start();\n            this.connected = true;\n\n            for (const connectedCallback of this.connectedCallbacks) {\n                connectedCallback();\n            }\n        } catch (e) {\n            this.error = e;\n        }\n    }\n\n    async stop() {\n        this.started = false;\n        await this._connection.stop();\n    }\n\n    onConnectionClosed(e: Error|undefined) {\n        this.connected = false;\n        this.started = false;\n        this.error = e || null;\n    }\n\n\n    on(eventName: string, handler: (...args: any[]) => void) {\n        this._connection.on(eventName, handler);\n    }\n\n\n\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[(_vm.server && _vm.server.isRunning)?_c('el-button',{attrs:{\"icon\":\"el-icon-circle-check\",\"type\":\"text\"},on:{\"click\":_vm.stop}},[_vm._v(\" SMTP server listening on port \"+_vm._s(_vm.server.portNumber))]):_vm._e(),(_vm.server && !_vm.server.isRunning && !_vm.server.exception)?_c('el-button',{attrs:{\"icon\":\"el-icon-circle-close\",\"type\":\"danger\"},on:{\"click\":_vm.start}},[_vm._v(\" SMTP server stopped\")]):_vm._e(),(_vm.server && !_vm.server.isRunning && _vm.server.exception)?_c('el-button',{attrs:{\"icon\":\"el-icon-circle-close\",\"type\":\"danger\"},on:{\"click\":_vm.start}},[_vm._v(\" SMTP server error:\"),_c('br'),_vm._v(_vm._s(_vm.server.exception))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport HubConnectionManager from \"../HubConnectionManager\";\nimport { Mutex } from \"async-mutex\";\nimport ServerController from \"../ApiClient/ServerController\";\nimport Server from \"../ApiClient/Server\";\n\n@Component\nexport default class ServerStatus extends Vue {\n\n    constructor() {\n        super();\n    }\n\n    @Prop({ default: null })\n    connection: HubConnectionManager | null = null;\n\n    error: Error | null = null;\n    private mutex = new Mutex();\n    loading: boolean = true;\n    server: Server | null = null;\n\n    async refresh(silent: boolean=false) {\n        var unlock = await this.mutex.acquire();\n\n        try {\n            this.error = null;\n            this.loading = !silent;\n\n            this.server = await new ServerController().getServer();\n        } catch (e) {\n            this.error = e;\n        } finally {\n            this.loading = false;\n            unlock();\n        }\n    }\n\n    async stop() {\n        let serverUpdate: Server = { ... this.server } as Server;\n        serverUpdate.isRunning = false;\n\n        await new ServerController().updateServer(serverUpdate);\n    }\n\n    async start() {\n        let serverUpdate: Server = { ... this.server } as Server;\n        serverUpdate.isRunning = true;\n        await new ServerController().updateServer(serverUpdate);\n    }\n\n    async mounted() {\n        await this.refresh();\n    }\n\n    @Watch(\"connection\")\n    onConnectionChanged() {\n        if (this.connection) {\n            this.connection.on(\"serverchanged\", async () => {\n                await this.refresh();\n            });\n\n            this.connection.addOnConnectedCallback(() => this.refresh());\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./serverstatus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./serverstatus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./serverstatus.vue?vue&type=template&id=2e19371e&\"\nimport script from \"./serverstatus.vue?vue&type=script&lang=ts&\"\nexport * from \"./serverstatus.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"Settings\",\"visible\":_vm.visible,\"width\":\"80%\",\"close-on-click-modal\":false,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.visible=$event},\"open\":_vm.refresh}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[(_vm.error)?_c('el-alert',{attrs:{\"type\":\"error\",\"title\":\"Error\",\"show-icon\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.error.message)+\" \")]):_vm._e(),(_vm.server)?_c('el-form',{ref:\"form\",attrs:{\"model\":this,\"rules\":_vm.rules,\"disabled\":_vm.saving}},[_c('el-tabs',{attrs:{\"tab-position\":\"top\"}},[_c('el-tab-pane',{attrs:{\"label\":\"SMTP Server\"}},[_c('el-form-item',{attrs:{\"label\":\"Hostname\",\"prop\":\"server.hostName\"}},[_c('el-input',{model:{value:(_vm.server.hostName),callback:function ($$v) {_vm.$set(_vm.server, \"hostName\", $$v)},expression:\"server.hostName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Port Number\",\"prop\":\"server.portNumber\"}},[_c('el-input-number',{attrs:{\"min\":1,\"max\":65535,\"controls-position\":\"right\"},model:{value:(_vm.server.portNumber),callback:function ($$v) {_vm.$set(_vm.server, \"portNumber\", $$v)},expression:\"server.portNumber\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Allow Remote Connections\",\"prop\":\"server.allowRemoteConnections\"}},[_c('el-switch',{model:{value:(_vm.server.allowRemoteConnections),callback:function ($$v) {_vm.$set(_vm.server, \"allowRemoteConnections\", $$v)},expression:\"server.allowRemoteConnections\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"IMAP Server\"}},[_c('el-form-item',{attrs:{\"label\":\"Port Number\",\"prop\":\"server.imapPortNumber\"}},[_c('el-input-number',{attrs:{\"min\":1,\"max\":65535,\"controls-position\":\"right\"},model:{value:(_vm.server.imapPortNumber),callback:function ($$v) {_vm.$set(_vm.server, \"imapPortNumber\", $$v)},expression:\"server.imapPortNumber\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"Limits\"}},[_c('el-form-item',{attrs:{\"label\":\"# of Messages to Keep\",\"prop\":\"server.numberOfMessagesToKeep\"}},[_c('el-input-number',{attrs:{\"min\":1,\"controls-position\":\"right\"},model:{value:(_vm.server.numberOfMessagesToKeep),callback:function ($$v) {_vm.$set(_vm.server, \"numberOfMessagesToKeep\", $$v)},expression:\"server.numberOfMessagesToKeep\"}})],1),_c('el-form-item',{attrs:{\"label\":\"# of Sessions to Keep\",\"prop\":\"server.numberOfSessionsToKeep\"}},[_c('el-input-number',{attrs:{\"min\":1,\"controls-position\":\"right\"},model:{value:(_vm.server.numberOfSessionsToKeep),callback:function ($$v) {_vm.$set(_vm.server, \"numberOfSessionsToKeep\", $$v)},expression:\"server.numberOfSessionsToKeep\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"Message Relay\"}},[_c('el-form-item',{attrs:{\"label\":\"Message Relay Enabled\",\"prop\":\"isRelayEnabled\"}},[_c('el-switch',{model:{value:(_vm.isRelayEnabled),callback:function ($$v) {_vm.isRelayEnabled=$$v},expression:\"isRelayEnabled\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRelayEnabled),expression:\"isRelayEnabled\"}],attrs:{\"label\":\"SMTP server\",\"prop\":\"server.relayOptions.smtpServer\"}},[_c('el-input',{model:{value:(_vm.server.relayOptions.smtpServer),callback:function ($$v) {_vm.$set(_vm.server.relayOptions, \"smtpServer\", $$v)},expression:\"server.relayOptions.smtpServer\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRelayEnabled),expression:\"isRelayEnabled\"}],attrs:{\"label\":\"SMTP port\",\"prop\":\"server.relayOptions.smtpPort\"}},[_c('el-input-number',{attrs:{\"min\":1,\"max\":65535,\"controls-position\":\"right\"},model:{value:(_vm.server.relayOptions.smtpPort),callback:function ($$v) {_vm.$set(_vm.server.relayOptions, \"smtpPort\", $$v)},expression:\"server.relayOptions.smtpPort\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRelayEnabled),expression:\"isRelayEnabled\"}],attrs:{\"label\":\"Login\",\"prop\":\"server.relayOptions.login\"}},[_c('el-input',{model:{value:(_vm.server.relayOptions.login),callback:function ($$v) {_vm.$set(_vm.server.relayOptions, \"login\", $$v)},expression:\"server.relayOptions.login\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRelayEnabled),expression:\"isRelayEnabled\"}],attrs:{\"label\":\"Password\",\"prop\":\"server.relayOptions.password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.server.relayOptions.password),callback:function ($$v) {_vm.$set(_vm.server.relayOptions, \"password\", $$v)},expression:\"server.relayOptions.password\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRelayEnabled),expression:\"isRelayEnabled\"}],attrs:{\"label\":\"Sender Address - leave blank to use original sender\",\"prop\":\"server.relayOptions.senderAddress\"}},[_c('el-input',{model:{value:(_vm.server.relayOptions.senderAddress),callback:function ($$v) {_vm.$set(_vm.server.relayOptions, \"senderAddress\", $$v)},expression:\"server.relayOptions.senderAddress\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRelayEnabled),expression:\"isRelayEnabled\"}],attrs:{\"label\":\"Auto-Relay Recipients\",\"prop\":\"isRelayEnabled\"}},[_vm._l((_vm.server.relayOptions.automaticEmails),function(email,index){return _c('div',{key:index},[_c('el-form-item',{attrs:{\"prop\":'relayOptionsAutomaticEmails[' + index + '].value',\"rules\":{required: true, message: 'Required'}}},[_c('el-input',{model:{value:(_vm.server.relayOptions.automaticEmails[index]),callback:function ($$v) {_vm.$set(_vm.server.relayOptions.automaticEmails, index, $$v)},expression:\"server.relayOptions.automaticEmails[index]\"}},[_c('el-button',{attrs:{\"slot\":\"append\"},on:{\"click\":function($event){return _vm.server.relayOptions.automaticEmails.splice(index, 1)}},slot:\"append\"},[_vm._v(\"Remove\")])],1)],1)],1)}),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.server.relayOptions.automaticEmails.push('')}}},[_vm._v(\"New Auto-Relay Recipient\")])],2)],1)],1)],1):_vm._e()],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"disabled\":_vm.saving,\"loading\":_vm.saving},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Form } from 'element-ui'\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport HubConnectionManager from \"../HubConnectionManager\";\nimport { Mutex } from \"async-mutex\";\nimport ServerController from \"../ApiClient/ServerController\";\nimport Server from \"../ApiClient/Server\";\n\n@Component\nexport default class SettingsDialog extends Vue {\n\n    constructor() {\n        super();\n    }\n\n    @Prop({ default: null })\n    connection: HubConnectionManager | null = null;\n\n    error: Error | null = null;\n    private mutex = new Mutex();\n    loading: boolean = true;\n    saving: boolean = false;\n    server: Server | null = null;\n\n    get rules() {\n        let result = {\n            server: {\n                hostName: [{ required: true, message: 'Hostname is required' }],\n                portNumber: [{ required: true, message: 'Port number is required' }],\n                numberOfMessagesToKeep: [{ required: true, message: '# of Messages to Keep is required' }],\n                numberOfSessionsToKeep: [{ required: true, message: '# of Sessions to Keep is required' }],\n                relayOptions: {\n                    smtpServer: <object[]>[],\n                    smtpPort: <object[]>[]\n                }\n            }\n        };\n\n        if (this.isRelayEnabled) {\n            result.server.relayOptions.smtpServer.push({ required: true, message: \"SMTP server is required if relaying enabled\" });\n            result.server.relayOptions.smtpPort.push({ required: true, message: \"SMTP port is required if relaying enabled\" });\n        }\n\n        return result;\n\n    }\n\n    @Prop({ default: false })\n    visible: boolean = false;\n\n    handleClose() {\n       this.$emit('closed');\n    }\n\n\n    private isRelayEnabledValue: boolean = false;\n    get isRelayEnabled() {\n        return this.isRelayEnabledValue;\n    }\n\n    set isRelayEnabled(value: boolean) {\n        this.isRelayEnabledValue = value;\n        if (!this.isRelayEnabledValue && this.server) {\n            this.server.relayOptions.smtpServer = \"\";\n            this.server.relayOptions.automaticEmails.splice(0, this.server.relayOptions.automaticEmails.length);\n        }\n    }\n         \n    relayOptionsAutomaticEmails: any[] = [];\n\n    @Watch(\"server.relayOptions.automaticEmails\")\n    updateAutomaticEmailsForValidation() {\n\n        if (!this.server) {\n            return;\n        }\n\n        this.relayOptionsAutomaticEmails = this.server.relayOptions.automaticEmails.map((v, i) => {\n            return { value: v };\n        });\n\n    }\n\n    async save() {\n        this.saving = true;\n        this.error = null;\n        try {\n            let valid =  await (<Form>this.$refs[\"form\"]).validate()\n\n            if (valid) {\n\n                await new ServerController().updateServer(this.server!);\n                this.handleClose();\n            }\n        } catch (e) {\n            this.error = e;\n        } finally {\n            this.saving = false;\n        }\n    }\n\n    async refresh(silent: boolean = false) {\n        var unlock = await this.mutex.acquire();\n\n        try {\n            this.error = null;\n            this.loading = !silent;\n\n            this.server = await new ServerController().getServer();\n            this.isRelayEnabled = !!this.server.relayOptions.smtpServer;\n        } catch (e) {\n            this.error = e;\n        } finally {\n            this.loading = false;\n            unlock();\n        }\n    }\n\n    async mounted() {\n        await this.refresh();\n    }\n\n    @Watch(\"connection\")\n    onConnectionChanged() {\n        if (this.connection) {\n            this.connection.on(\"serverchanged\", async () => {\n                await this.refresh();\n            });\n\n            this.connection.addOnConnectedCallback(() => this.refresh());\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settingsdialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settingsdialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./settingsdialog.vue?vue&type=template&id=80e91470&\"\nimport script from \"./settingsdialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./settingsdialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.connection || !_vm.connection.connected),expression:\"!connection || !connection.connected\"}],attrs:{\"size\":\"small\",\"type\":_vm.buttonType(),\"icon\":_vm.buttonIcon(),\"title\":_vm.buttonTitle()},on:{\"click\":_vm.buttonClick}},[_vm._v(_vm._s(_vm.buttonText()))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n    import Vue from \"vue\";\n    import { Component, Prop } from \"vue-property-decorator\";\n    import HubConnectionManager from \"../HubConnectionManager\";\n\n    @Component\n    export default class HubConnectionStatus extends Vue {\n\n        constructor() {\n            super();\n        }\n\n        @Prop({ default: null })\n        connection: HubConnectionManager | null = null;\n\n        buttonType(): string {\n            return this.connection && this.connection.connected ? \"success\" : this.connection && this.connection.started ? \"warning\" : \"danger\";\n        }\n\n        buttonText(): string {\nvar errorText = this.connection && this.connection.error ? \"\\nError: \" + this.connection.error.message : \"\";\n\n            return (this.connection && this.connection.connected ? \"Auto refresh enabled\" : this.connection && this.connection.started ? \"Connecting...\" : \"Auto refresh disabled\") + errorText;\n        }\n\n        buttonTitle(): string {\n            var errorText = this.connection && this.connection.error ? \"\\nError: \" + this.connection.error.message : \"\";\n\n            return (this.connection && this.connection.connected ? \"Auto refresh enabled - Click to disconnect\" : this.connection && this.connection.started ? \"Auto refresh re-connecting...\" : \"Auto refresh disabled - click to enable\") + errorText;\n        }\n\n        buttonIcon(): string {\n            return this.connection && this.connection.connected ? \"el-icon-success\" : this.connection && this.connection.started ? \"el-icon-warning\" : \"el-icon-warning\";\n        }\n\n\n        buttonClick = () => {\n            if (this.connection) {\n\n                if (!this.connection.started) {\n                    this.connection.start();\n                } else {\n                    this.connection.stop();\n                }\n            }\n        }\n\n        async created() {\n\n        }\n\n        async destroyed() {\n\n        }\n\n    }\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hubconnectionstatus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hubconnectionstatus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./hubconnectionstatus.vue?vue&type=template&id=18010552&\"\nimport script from \"./hubconnectionstatus.vue?vue&type=script&lang=ts&\"\nexport * from \"./hubconnectionstatus.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport MessageSummary from \"../../ApiClient/MessageSummary\";\nimport SessionSummary from \"../../ApiClient/SessionSummary\";\nimport MessageList from \"@/components/messagelist.vue\";\nimport MessageView from \"@/components/messageview.vue\";\nimport SessionList from \"@/components/sessionlist.vue\";\nimport SessionView from \"@/components/sessionview.vue\";\nimport HubConnectionManager from \"@/HubConnectionManager\";\nimport ServerStatus from \"@/components/serverstatus.vue\";\nimport SettingsDialog from \"@/components/settingsdialog.vue\";\nimport HubConnectionStatus from \"@/components/hubconnectionstatus.vue\";\nimport { Splitpanes, Pane } from 'splitpanes';\nimport 'splitpanes/dist/splitpanes.css';\n\n@Component({\n    components: {\n        messagelist: MessageList,\n        messageview: MessageView,\n        sessionlist: SessionList,\n        sessionview: SessionView,\n        hubconnstatus: HubConnectionStatus,\n        serverstatus: ServerStatus,\n        settingsdialog: SettingsDialog,\n        splitpanes: Splitpanes,\n        pane: Pane\n    }\n})\nexport default class Home extends Vue {\n    selectedMessage: MessageSummary | null = null;\n    selectedSession: SessionSummary | null = null;\n\n    connection: HubConnectionManager | null = null;\n\n    settingsVisible: boolean = false;\n\n    selectedMessageChanged(selectedMessage: MessageSummary | null) {\n        this.selectedMessage = selectedMessage;\n    }\n\n    selectedSessionChanged(selectedSession: SessionSummary | null) {\n        this.selectedSession = selectedSession;\n    }\n\n    get messageListPaneSize(): number {\n\n        var storedValue = window.localStorage.getItem(\"messagelist-panelsize\");\n        if (storedValue) {\n            return Number(storedValue);\n        }\n\n        return 40;\n    }\n\n    set messageListPaneSize(value: number) {\n        window.localStorage.setItem(\"messagelist-panelsize\", value.toString());\n    }\n\n    get sessionListPaneSize(): number {\n\n        var storedValue = window.localStorage.getItem(\"sessionlist-panelsize\");\n        if (storedValue) {\n            return Number(storedValue);\n        }\n\n        return 40;\n    }\n\n    set sessionListPaneSize(value: number) {\n        window.localStorage.setItem(\"sessionlist-panelsize\", value.toString());\n    }\n\n    constructor() {\n        super();\n    }\n\n    async mounted() {\n        this.connection = new HubConnectionManager(\"hubs/notifications\")\n        this.connection.start();\n    }\n\n    destroyed() {\n        if (this.connection) {\n            this.connection.stop();\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=31a6ae14&\"\nimport script from \"./home.vue?vue&type=script&lang=ts&\"\nexport * from \"./home.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vfillpanel\",attrs:{\"id\":\"app-root\"}},[_c('transition',{attrs:{\"name\":\"slide-fade\",\"mode\":\"out-in\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\n@Component({})\nexport default class AppComponent extends Vue {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=e1d356dc&\"\nimport script from \"./app.vue?vue&type=script&lang=ts&\"\nexport * from \"./app.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./app.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import './css/site.css';\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Element from 'element-ui';\nimport axios from \"axios\";\nimport {prollyfill as localeIndexOfProllyfill } from \"locale-index-of\";\nimport Home from '@/components/home/home.vue';\nimport App from '@/components/app/app.vue';\n\nconst supportedBrowser = typeof (document.createElement(\"p\").style.flex) != \"undefined\" && Object.prototype.hasOwnProperty.call(window, \"Reflect\") && Object.prototype.hasOwnProperty.call(window, \"Promise\");\n\nif (!supportedBrowser) {\n\n    (<HTMLElement>document.getElementById(\"loading\")).style.display = \"none\";\n    (<HTMLElement>document.getElementById(\"oldbrowser\")).style.display = \"block\";\n\n} else {\n\n    Vue.use(Element);\n    Vue.use(VueRouter);\n\n    const routes = [\n        { path: '/', component: Home },\n    ];\n\n    const router = new VueRouter({\n        base: location.pathname,\n        mode: 'history',\n        routes: routes\n    })\n    const app = new Vue({\n        el: '#app-root',\n        router: router,\n        render: h => h(App)\n    });\n\n\n\n    axios.interceptors.response.use(response => {\n\n        fixDates(response.data);\n        return response;\n    });\n\n    localeIndexOfProllyfill();\n}\n\nconst dateRegex = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*))(?:Z|(\\+|-)([\\d|:]*))?$/;\n\nfunction fixDates(data: any) {\n\n    if (data instanceof Array) {\n        for (const item of data) {\n            fixDates(item)\n        }\n    } else {\n        for (const property in data) {\n            const value = data[property];\n\n            if (typeof value === \"string\") {\n                if (dateRegex.test(value)) {\n                    data[property] = new Date(value);\n                }\n            } else {\n                fixDates(value);\n            }\n        }\n    }\n}\n\n\n\n\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}